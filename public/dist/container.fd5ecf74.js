(window.webpackJsonp=window.webpackJsonp||[]).push([["container"],{AMWX:function(e,t,n){"use strict";n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("wLYn"),n("sMBO"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("PKPk"),n("3bBZ");var r=n("q1tI"),o=n.n(r),a=(n("17x9"),n("zKZe"),n("76ZC")),l=n.n(a),i=(n("2B1R"),n("GTV5"));n("Bcp6"),n("ma9I"),n("pDQq"),n("rB9j"),n("UxlC");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n={};return n.className=t,null!==e.row_class&&(n.className=e.row_class),!1!==e.row_id&&(n.id=e.row_id),n}function u(e,t){var n=!1===e.column_attr?{}:e.column_attr;return void 0!==n.class&&(n.className=n.class,delete n.class),void 0===n.className&&(n.className=t),n}function f(e,t,n){var r="object"!==c(e.attr)?{}:e.attr;return void 0!==r.class&&(r.className=r.class,delete r.class),void 0===r.className&&(r.className=t),r.id=e.id,r.name=e.full_name,r.onChange=null,!1===e.on_change&&"function"==typeof n.onElementChange?r.onChange=function(t){return n.onElementChange(t,e)}:"function"==typeof n[e.on_change]&&(r.onChange=function(t){return n[e.on_change](t,e)}),r.onClick=null,!1===e.on_click&&"function"==typeof n.onElementClick?r.onClick=function(t){return n.onElementClick(t,e)}:"function"==typeof n[e.on_click]&&(r.onClick=function(t){return n[e.on_click](t,e)}),!1!==e.multiple&&(r.multiple=!0),"string"==typeof r.inputmode&&(r.inputMode=r.inputmode,delete r.inputmode),r["aria-describedby"]=e.id+"_help",r}function m(e,t){var n={};return n.className=t,null!==e.wrapper_class&&(n.className=e.wrapper_class),n}function p(e){var t=e.form,n=(e.functions,e.columns),r=s(t,"break flex flex-col sm:flex-row justify-between content-center p-0"),a=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");return n>1&&(a.colSpan=n),o.a.createElement("tr",r,o.a.createElement("td",a,o.a.createElement("h3",null,t.label)))}function d(e){var t=e.form,n=(e.functions,e.columns),r=s(t,"break flex flex-col sm:flex-row justify-between content-center p-0"),a=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");n>1&&(a.colSpan=n);var i=m(t,"");return o.a.createElement("tr",r,o.a.createElement("td",a,o.a.createElement("div",i,l()(t.help))))}var h=n("AEIT"),y=n.n(h),b=n("+z1p"),v=n.n(b);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){var t=e.form,n=e.functions;if(!1===t.header_row)return null;if(!0===t.header_row){var r=Object.keys(t.prototype.children).map(function(e){var n=t.prototype.children[e];if("hidden"!==n.type)return o.a.createElement("th",{className:"text-xxs sm:text-xs p-2 sm:py-3",key:n.name},n.label)});return r.push(o.a.createElement("th",{className:"shortWidth text-xxs sm:text-xs p-2 sm:py-3 text-center",key:"actions"},n.translate("Actions"))),o.a.createElement("thead",null,o.a.createElement("tr",null,r))}if("array"==typeof t.header_row){var a=t.header_row.map(function(e,t){return o.a.createElement("th",E({},e.attr,{key:e.name}),e.label)});return o.a.createElement("thead",null,o.a.createElement("tr",null,a))}}function w(e){var t=e.message,n=e.cancelMessage;return o.a.createElement("div",{className:t.class},t.message,o.a.createElement("button",{className:"button close "+t.class,onClick:function(){return n(t.id)},title:"Close Message",type:"button"},o.a.createElement("span",{className:"fas fa-times-circle fa-fw "+t.class})))}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==O(o)&&"function"!=typeof o?j(r):o).cancelMessage=n.cancelMessage.bind(j(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r["Component"]),n=t,(a=[{key:"cancelMessage",value:function(e){var t=this.props.messages;t.splice(e,1),this.setState({messages:t})}},{key:"render",value:function(){var e=this,t=this.props.messages.map(function(t,n){return t.id=n,o.a.createElement(w,{message:t,key:"message_"+t.id,cancelMessage:e.cancelMessage})});return 0===t.length?null:o.a.createElement("div",null,t)}}])&&_(n.prototype,a),l&&_(n,l),t}();function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){var t=e.form,n=e.functions,r=e.errors,a=f(t,"leftIndent smallIntBorder standardForm striped",{});delete a.name;var l=o.a.createElement(g,{form:t,functions:n}),i=[];return Object.keys(t.children).map(function(e){var r=t.children[e],a=[],l=[];Object.keys(r.children).map(function(e){var t=x({},r.children[e]);"hidden"!==t.type?a.push(o.a.createElement("td",{key:e},o.a.createElement(K,{form:x({},t),functions:n}))):l.push(o.a.createElement(K,{form:x({},t),functions:n,key:e}))});var c=[];t.allow_delete&&c.push(o.a.createElement("button",{onClick:function(){return n.deleteElement(r)},className:"button text-gray-800",type:"button",key:"one"},o.a.createElement("span",{className:"far fa-trash-alt fa-fw"}))),a.push(o.a.createElement("td",{key:"actions"},l,o.a.createElement("div",{className:"text-center"},c))),i.push(o.a.createElement("tr",{key:e},a))}),i.push(o.a.createElement("tr",{key:"addRow"},o.a.createElement("td",{colSpan:n.getColumnCount()-1}),o.a.createElement("td",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:function(){return n.addElement(t)},className:"button text-gray-800",type:"button",key:"one"},o.a.createElement("span",{className:"fas fa-plus-circle fa-fw"})))))),o.a.createElement("div",{className:"collection"},o.a.createElement(S,{messages:r}),o.a.createElement("table",a,l,o.a.createElement("tbody",null,i)))}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}P.defaultProps={errors:[]};var R=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=T(t).call(this,e))||"object"!==N(o)&&"function"!=typeof o?B(r):o).functions=e.functions,n.form=e.form,n.columnCount=0,n.functions.incColumnCount=n.incColumnCount.bind(B(n)),n.functions.getColumnCount=n.getColumnCount.bind(B(n)),n.state={errors:[],count:0,formCount:0},n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object.keys(this.form.prototype.children).map(function(t){"hidden"!==e.form.prototype.children[t].type&&e.functions.incColumnCount()}),this.functions.incColumnCount(),this.setState({count:V(this.form),formCount:this.functions.calcFormCount(this.form,0)})}},{key:"incColumnCount",value:function(){this.columnCount++}},{key:"getColumnCount",value:function(){return this.columnCount}},{key:"render",value:function(){return o.a.createElement(P,{form:this.form,functions:this.functions,errors:this.state.errors})}}])&&F(n.prototype,a),l&&F(n,l),t}();function V(e){var t=0;return Object.keys(e.children).map(function(n){"object"===N(e.children[n])&&t++}),t}function M(e){return void 0===e||(""===e||(null===e||(e===[]||e==={})))}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e){var t=e.form,n=e.wrapper_attr,r=e.widget_attr,a=[];return M(t.placeholder)||a.push(o.a.createElement("option",{key:"placeholder",className:"text-gray-500",value:""},t.placeholder)),Object.keys(t.choices).map(function(e){a.push(o.a.createElement("option",{value:t.choices[e].value,key:t.choices[e].value},t.choices[e].label))}),o.a.createElement("div",n,o.a.createElement("select",L({multiple:t.multiple},r,{defaultValue:t.value}),a))}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e){var t=e.form,n=e.functions,r=m(t,"flex-1 relative"),a="form element "+t.type,l=f(t,"w-full",n),i=[];if(t.errors.length>0&&(r.className+=" errors",i=t.errors.map(function(e,t){return o.a.createElement("li",{key:t},e)})),"ckeditor"===t.type)return o.a.createElement("div",r,o.a.createElement(y.a,{editor:v.a,data:t.value,"aria-describedby":t.id+"_help",onChange:function(e,r){return n.onCKEditorChange(e,r,t)}}),t.errors.length>0?o.a.createElement("ul",null,i):"");if("submit"===t.type)return l.type="button",l.style={float:"right"},l.className="btn-gibbon",l.onClick=function(){return n.submitForm()},o.a.createElement("div",r,o.a.createElement("span",{className:"emphasis small"},"* ",t.help),o.a.createElement("button",l,t.label));if("hidden"===t.type)return l.type="hidden",o.a.createElement("input",l);if("email"===t.type)return l.type="email",o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),t.errors.length>0?o.a.createElement("ul",null,i):"");if("password_generator"===t.type){l.type="password";return o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),o.a.createElement("button",A({type:"button",title:t.generateButton.title,className:t.generateButton.class},{},{onClick:function(){return n[t.generateButton.onClick](t)}}),t.generateButton.title),t.errors.length>0?o.a.createElement("ul",null,i):"")}if("password"===t.type)return l.type="password",o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),t.errors.length>0?o.a.createElement("ul",null,i):"");if("url"===t.type){l.type="url";var c={};return M(t.value)&&(c.disabled=!0),o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),o.a.createElement("button",A({type:"button",title:n.translate("Open Link"),className:"button button-right"},c,{onClick:function(){return n.openUrl(t.value)}}),o.a.createElement("span",{className:"fa-fw fas fa-external-link-alt"})),t.errors.length>0?o.a.createElement("ul",null,i):"")}if("file"===t.type){l.type="file";var s={};return M(t.value)&&(s.disabled=!0),o.a.createElement("div",r,o.a.createElement("input",l),o.a.createElement("button",A({type:"button",title:n.translate("File Download"),className:"button button-right"},s,{onClick:function(){return n.downloadFile(t.value)}}),o.a.createElement("span",{className:"fa-fw fas fa-file-download"})),t.errors.length>0?o.a.createElement("ul",null,i):"")}if("text"===t.type)return l.type="text",o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),t.errors.length>0?o.a.createElement("ul",null,i):"");if("collection"===t.type)return o.a.createElement(R,{form:t,functions:n,key:t.collection_key});if("choice"===t.type)return o.a.createElement(D,{form:t,wrapper_attr:r,widget_attr:l});if("toggle"===t.type){l.type="hidden",r.className+=" right";var u={onClick:function(e){return n.onElementChange(e,t)},className:"button"};delete l.onChange;var p={className:"fa-fw far fa-thumbs-down"};return"Y"===t.value||"1"===t.value?(p.className="fa-fw far fa-thumbs-up",u.className+=" success",t.value="Y"):t.value="N",o.a.createElement("div",r,o.a.createElement("input",A({},l,{defaultValue:t.value})),o.a.createElement("button",A({type:"button",title:n.translate("Yes/No")},u),o.a.createElement("span",p)),t.errors.length>0?o.a.createElement("ul",null,i):"")}return console.log(t),o.a.createElement("div",r,a)}function J(e){var t=e.form,n=e.functions,r=e.columns;!1===t.column_attr&&r>1&&(t.column_attr={}),r>1&&(t.column_attr.colSpan=r);var a=s(t,"flex flex-col sm:flex-row justify-between content-center p-0"),l=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");return o.a.createElement("tr",a,o.a.createElement("td",l,o.a.createElement(K,{form:t,functions:n})))}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e){var t=e.form,n=[],r=function(e,t){var n={};return n.className=t,n}(0,"inline-block mt-4 sm:my-1 sm:max-w-xs font-bold text-sm sm:text-xs");"string"==typeof t.help&&(n.push(o.a.createElement("br",{key:"newLine"})),n.push(o.a.createElement("span",{key:"message",className:"text-xxs text-gray-600 italic font-normal mt-1 sm:mt-0"},l()(t.help))));var a="";return!0===t.required&&(a=" *"),o.a.createElement("label",Z({htmlFor:t.id},r),t.label,a,n)}function U(e){var t=e.form,n=e.functions;return o.a.createElement("tr",{className:"flex flex-col sm:flex-row justify-between content-center p-0"},o.a.createElement("td",{className:"flex flex-col flex-grow justify-center -mb-1 sm:mb-0  px-2 border-b-0 sm:border-b border-t-0"},o.a.createElement(W,{form:t})),o.a.createElement("td",{className:"w-full max-w-full sm:max-w-xs flex justify-end items-center px-2 border-b-0 sm:border-b border-t-0"},o.a.createElement(K,{form:t,functions:n})))}function Y(e){var t=e.form,n=e.functions,r=e.columns;return t.columns=r,"hidden"===t.type&&"hidden"!==t.row_style&&(t.row_style="hidden"),"header"===t.type?o.a.createElement(p,{form:t,functions:n,columns:r}):"paragraph"===t.type?o.a.createElement(d,{form:t,functions:n,columns:r}):"single"===t.row_style?o.a.createElement(J,{form:t,functions:n,columns:r}):"hidden"===t.row_style?o.a.createElement("tr",{style:{display:"none"}},o.a.createElement("td",null,o.a.createElement(K,{form:t,functions:n}))):"standard"===t.row_style?o.a.createElement(U,{form:t,functions:n}):"transparent"===t.row_style||"repeated"===t.row_style?Object.keys(t.children).map(function(e){var a=t.children[e];return"password_generator"===a.type&&"second"===e&&(a.type="password"),o.a.createElement(Y,{form:a,key:a.name,functions:n,columns:r})}):(console.log(t),o.a.createElement("tr",null,o.a.createElement("td",null," Form Row ",t.row_style)))}var q=n("J5mc");n("TWNs"),n("JfAA");function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=$(t).call(this,e))||"object"!==z(o)&&"function"!=typeof o?Q(r):o).columnCount=e.form.column_count,n.functions=e.functions,n.columns=e.form.columns,n.functions.submitForm=n.submitForm.bind(Q(n)),n.functions.onElementChange=n.onElementChange.bind(Q(n)),n.functions.deleteElement=n.deleteElement.bind(Q(n)),n.functions.addElement=n.addElement.bind(Q(n)),n.functions.onCKEditorChange=n.onCKEditorChange.bind(Q(n)),n.functions.generateNewPassword=n.generateNewPassword.bind(Q(n)),n.replaceName=n.replaceName.bind(Q(n)),n.buildFormData=n.buildFormData.bind(Q(n)),n.replaceFormElement=n.replaceFormElement.bind(Q(n)),n.deleteFormElement=n.deleteFormElement.bind(Q(n)),n.findElementById=n.findElementById.bind(Q(n)),n.functions.calcFormCount=n.calcFormCount.bind(Q(n)),n.calcFormCount=n.calcFormCount.bind(Q(n)),n.state={errors:[],form:e.form,formCount:0},n.submit=!1,n}var a,l,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,r["Component"]),a=t,(l=[{key:"componentDidMount",value:function(){this.setState({formCount:this.calcFormCount(G({},this.state.form),0)})}},{key:"generateNewPassword",value:function(e){var t=function(e){var t="abcdefghijklmnopqrstuvwxyz";t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t+="0123456789",t+="#?!@$%^+=&*-";var n="^(.*(?=.*[a-z])";e.alpha&&(n+="(?=.*[A-Z])"),e.numeric&&(n+="(?=.*[0-9])"),e.punctuation&&(n+="(?=.*?[#?!@$%^+=&*-])"),n+=".*){"+e.minLength+",}$",n=new RegExp(n);for(var r=e.minLength<12?12:e.minLength,o="",a=0;a<r;a++)o+=t.charAt(Math.floor(Math.random()*t.length));for(;!1===n.test(o);){o="";for(var l=0;l<r;l++)o+=t.charAt(Math.floor(Math.random()*t.length))}return o}(e.generateButton.passwordPolicy),n=e.id.replace("first","second"),r=G({},this.state.form);r=G({},this.changeFormValue(r,e,t));var o=this.findElementById(r,n,{});alert(e.generateButton.alertPrompt+": "+t),r=G({},this.changeFormValue(r,o,t)),this.setState({errors:this.state.errors,form:r})}},{key:"onCKEditorChange",value:function(e,t,n){var r=t.getData();this.setState({errors:this.state.errors,form:G({},this.changeFormValue(this.state.form,n,r))})}},{key:"calcFormCount",value:function(e,t){var n=this;return"array"==typeof e.children&&e.children.length>0?this.state.form.children.map(function(e){t=n.calcFormCount(e,t)}):"object"===z(e.children)&&Object.keys(e.children).length>0&&Object.keys(e.children).map(function(r){var o=e.children[r];t=n.calcFormCount(o,t)}),++t}},{key:"changeFormValue",value:function(e,t,n){var r=this;return"array"==typeof e.children&&e.children.length>0?(e.children.map(function(o,a){o.id===t.id&&(o.value=n),e.children[a]=r.changeFormValue(o,t,n)}),e):"object"===z(e.children)&&Object.keys(e.children).length>0?(Object.keys(e.children).map(function(o){var a=e.children[o];a.id===t.id&&(a.value=n),e.children[o]=r.changeFormValue(a,t,n)}),e):e}},{key:"onElementChange",value:function(e,t){if("toggle"!==t.type)this.setState({errors:this.state.errors,form:G({},this.changeFormValue(this.state.form,t,e.target.value))});else{var n="Y"===t.value?"N":"Y";this.setState({errors:this.state.errors,form:G({},this.changeFormValue(this.state.form,t,n))})}}},{key:"buildFormData",value:function(e,t){var n=this;return"array"==typeof t.children&&t.children.length>0?(t.children.map(function(t){e[t.name]=n.buildFormData({},t)}),e):"object"===z(t.children)&&Object.keys(t.children).length>0?(Object.keys(t.children).map(function(r){var o=t.children[r];e[o.name]=n.buildFormData({},o)}),e):t.value}},{key:"submitForm",value:function(){var e=this;if(!this.submit){this.submit=!0;var t=this.buildFormData({},this.state.form);Object(q.a)(this.state.form.action,{method:this.state.form.method,body:JSON.stringify(t)},!1).then(function(t){var n=e.state.errors;n=n.concat(t.errors);var r="function"==typeof e.functions.submitFormCallable?e.functions.submitFormCallable(t.form):t.form;e.submit=!1,e.setState({errors:n,form:r})}).catch(function(t){var n=e.state.errors;n.push({class:"error",message:t}),e.submit=!1,e.setState({errors:n})})}}},{key:"deleteFormElement",value:function(e,t){var n=this;return"object"===z(e.children)&&Object.keys(e.children).map(function(r){n.deleteFormElement(e.children[r],t).id===t.id&&delete e.children[r]}),"array"==typeof e.children&&e.children.map(function(r,o){(r=n.deleteFormElement(r,t)).id===t.id&&e.children.splice(o,1)}),e}},{key:"findElementById",value:function(e,t,n){var r=this;return"string"==typeof n.id&&n.id===t?n:"object"===z(e.children)?(Object.keys(e.children).map(function(o){var a=e.children[o];a.id===t&&(n=a),n=r.findElementById(e.children[o],t,n)}),n):"array"==typeof e.children?(e.children.map(function(e,o){e.id===t&&(n=e),n=r.findElementById(e,t,n)}),n):n}},{key:"deleteElement",value:function(e){var t=this,n=this.deleteFormElement(G({},this.state.form),e);if(this.setState({form:n,formCount:this.calcFormCount(G({},n),0)}),"object"===z(e.children.id)){var r=e.id.replace("_"+e.name,""),o=this.findElementById(G({},this.state.form),r,{}),a=o.element_delete_route;"object"!==z(o.element_delete_options)&&(o.element_delete_options={}),Object.keys(o.element_delete_options).map(function(t){var n=o.element_delete_options[t];a=a.replace(t,e.children[n].value)}),Object(q.a)(a,[],!1).then(function(n){var r=t.state.form;"function"==typeof t.functions.deleteElementCallable&&(r=t.functions.deleteElementCallable(n,e)),t.setState({errors:n.errors,form:r,formCount:t.calcFormCount(r,0)})})}}},{key:"replaceName",value:function(e,t){var n=this;return"object"===z(e.children)&&Object.keys(e.children).map(function(r){var o=n.replaceName(G({},e.children[r]),t);e.children[r]=o}),e.name=e.name.replace("__name__",t),e.id=e.id.replace("__name__",t),e.full_name=e.full_name.replace("__name__",t),"string"==typeof e.label&&(e.label=e.label.replace("__name__",t)),e}},{key:"replaceFormElement",value:function(e,t){var n=this;return"object"===z(e.children)&&Object.keys(e.children).map(function(r){n.replaceFormElement(e.children[r],t).id===t.id&&(e.children[r]=t)}),"array"==typeof e.children&&e.children.map(function(r,o){(r=n.replaceFormElement(r,t)).id===t.id&&(e.children[o]=t)}),e.id===t.id&&(e=t),e}},{key:"addElement",value:function(e){var t=n("xk4V")(),r=this.replaceName(G({},e.prototype),t);delete r.children.id,"function"==typeof this.functions.addElementCallable?r=this.functions.addElementCallable(r):e.children.id=r,this.setState({form:this.replaceFormElement(G({},this.state.form),G({},e))})}},{key:"render",value:function(){var e=this;if("table"===this.state.form.template){for(var t=Object.keys(this.state.form.children).map(function(t){var n=e.state.form.children[t];return o.a.createElement(Y,{key:t,form:n,functions:e.functions,columns:e.columns})}),n=[],r=0;r<this.columns;r++)n.push(o.a.createElement("td",{key:r}));var a=o.a.createElement("tr",{style:{display:"none"}},n),l={className:"smallIntBorder fullWidth standardForm relative"};return null!==this.state.form.row_class&&(l.className=this.state.form.row_class),o.a.createElement("form",G({action:this.state.form.action,id:this.state.form.id},this.state.form.attr,{method:void 0!==this.state.form.method?this.state.form.method:"POST"}),o.a.createElement(S,{messages:this.state.errors}),o.a.createElement("table",l,o.a.createElement("tbody",null,a,t)))}return""}}])&&X(a.prototype,l),i&&X(a,i),t}();function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e){var t=e.panels,n=(e.forms,e.onSelectTab),r=e.selectedIndex,a=Object.keys(t).map(function(e){var n=t[e];return o.a.createElement(i.a,{key:n.name,disabled:n.disabled},n.label)}),c=Object.keys(t).map(function(n){var r=function(e,t){if(null!==e.content)return l()(e.content);var n=t.forms[e.name];if(null!==e.form)return o.a.createElement(ee,te({},t,{form:n}))}(t[n],e);return o.a.createElement(i.c,{key:n},r)});return o.a.createElement(i.d,{selectedIndex:r,onSelect:function(e){return n(e)}},o.a.createElement(i.b,null,a),c)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=le(t).call(this,e))||"object"!==re(o)&&"function"!=typeof o?ie(r):o).panels=e.panels,n.forms=e.forms,n.selectedPanel=e.selectedPanel,n.state={tabIndex:n.panels[n.selectedPanel].index},n.onSelectTab=n.onSelectTab.bind(ie(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"onSelectTab",value:function(e){this.setState({tabIndex:e})}},{key:"render",value:function(){if(1===Object.keys(this.panels).length){var e=Object.keys(this.panels)[0],t=this.panels[e];return null!==t.content?l()(t.content):o.a.createElement(ee,oe({},this.props,{form:this.forms[e]}))}return o.a.createElement(ne,oe({},this.props,{panels:this.panels,selectedIndex:this.state.tabIndex,onSelectTab:this.onSelectTab}))}}])&&ae(n.prototype,a),i&&ae(n,i),t}(),ue=n("ohO+");function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return ye});var ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pe(t).call(this,e))||"object"!==fe(o)&&"function"!=typeof o?de(r):o).panels=e.panels?e.panels:{},n.content=e.content?e.content:null,n.selectedPanel=e.selectedPanel,n.functions=e.functions,n.translations=e.translations,n.actionRoute=e.actionRoute,n.forms=e.forms,0===Object.keys(n.panels).length&&null!==n.content&&(n.panels.default={},n.panels.default.name="default",n.panels.default.disabled=!0,n.panels.default.content=n.content),n.functions.translate=n.translate.bind(de(n)),n.functions.openUrl=n.openUrl.bind(de(n)),n.functions.downloadFile=n.downloadFile.bind(de(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r["Component"]),n=t,(a=[{key:"translate",value:function(e){return M(this.translations[e])?(console.error("Unable to translate: "+e),e):this.translations[e]}},{key:"downloadFile",value:function(e){var t="/resource/"+btoa(e)+"/"+this.actionRoute+"/download/";Object(ue.a)(t,{target:"_blank"},!1)}},{key:"openUrl",value:function(e){window.open(e,"_blank")}},{key:"render",value:function(){return o.a.createElement(se,{panels:this.panels,selectedPanel:this.selectedPanel,functions:this.functions,forms:this.forms})}}])&&me(n.prototype,a),l&&me(n,l),t}();ye.defaultProps={functions:{},translations:{},forms:{}}},Bcp6:function(e,t,n){},J5mc:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("yq1k"),n("zKZe"),n("07d7"),n("5s+n"),n("JTJg");function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t,n){var o={};t&&t.headers&&(o=t.headers,delete t.headers),o=r({},o,{"Content-Type":"application/json; charset=utf-8"}),null===n&&(n="en_GB"),!1!==n&&""!==e||(n="");var l=window.location.protocol+"//"+window.location.hostname+"/";return"/"===e[0]&&(e=e.substring(1)),fetch(l+n+e,r({},t,{credentials:"same-origin",headers:o})).then(a).then(function(e){return e.text().then(function(e){return e.includes("window.Sfdump")?(console.log(e),""):"string"==typeof e?JSON.parse(e):""})})}function a(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}},RrZK:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("2B1R"),n("wLYn"),n("sMBO"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("q1tI"),o=n.n(r),a=n("AMWX");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=s(t).call(this,e))||"object"!==l(o)&&"function"!=typeof o?u(r):o).otherProps=i({},e),n.functions={manageLinkOrFile:n.manageLinkOrFile.bind(u(n)),addElementCallable:n.addElement.bind(u(n)),deleteElementCallable:n.deleteElement.bind(u(n)),submitFormCallable:n.submitForm.bind(u(n))},n.mapTypeValues=n.mapTypeValues.bind(u(n)),n.state={values:{}},n}var n,m,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(m=[{key:"componentDidMount",value:function(){this.setState({values:this.mapTypeValues(this.otherProps.forms.single)})}},{key:"mapTypeValues",value:function(e){var t=e.children.resources,n={};if("object"===l(t.children)){var r=[];Object.keys(t.children).map(function(e){r.push(t.children[e])}),t.children=r}return t.children.map(function(e,t){var r="File"===e.children.type.value?"File":"Link";e.children.url.type="File"===r?"file":"url",e.children.type.value=r,n[t]=r}),this.otherProps.forms.single.children.resources=i({},t),n}},{key:"manageLinkOrFile",value:function(e,t){var n=t.id.replace("department_edit_resources_","");n=n.replace("_type","");var r=this.otherProps.forms.single.children.resources.children[n];t.value=e.target.value,"File"===t.value?r.children.url.type="file":r.children.url.type="url",this.otherProps.forms.single.children.resources.children[n]=r;var o=this.state.values;o[n]=t.value,this.setState({values:o})}},{key:"addElement",value:function(e){e.children.type.value="Link",e.children.url.type="url",this.otherProps.forms.single.children.resources.children[e.name]=e;var t=this.state.values;return t[e.name]=e.children.type.value,this.setState({values:t}),e}},{key:"deleteElement",value:function(e,t){return"object"!==l(e.form)||"error"===e.status?(this.otherProps.forms.single.children.resources.children[t.name]=t,this.setState({values:this.mapTypeValues(this.otherProps.forms.single)}),this.otherProps.forms.single):(this.setState({values:this.mapTypeValues(e.form)}),this.otherProps.forms.single=i({},e.form),e.form)}},{key:"submitForm",value:function(e){return this.setState({values:this.mapTypeValues(e)}),e}},{key:"render",value:function(){return o.a.createElement(a.a,i({},this.otherProps,{functions:this.functions}))}}])&&c(n.prototype,m),p&&c(n,p),t}()},"ohO+":function(e,t,n){"use strict";function r(e,t,n){var r="_self";t&&"string"==typeof t.target&&(r=t.target);var o="";t&&"string"==typeof t.specs&&(o=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en_GB"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,r,o)}n.d(t,"a",function(){return r})},vSyi:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("i8i4"),l=n("AMWX"),i={};i.DepartmentEdit=n("RrZK").default;var c=i;if("undefined"!==window.CONTAINER_PROPS){var s=window.CONTAINER_PROPS;for(var u in s){var f=s[u],m=document.getElementById(f.target);if(null!==f.application&&void 0!==c[f.application]&&null!==m){var p=c[f.application];Object(a.render)(o.a.createElement(p,{content:f.content,panels:f.panels,selectedPanel:f.selectedPanel,translations:f.translations,actionRoute:f.actionRoute,forms:f.forms}),m)}else null!==m&&Object(a.render)(o.a.createElement(l.a,{content:f.content,panels:f.panels,selectedPanel:f.selectedPanel,actionRoute:f.actionRoute,translations:f.translations,forms:f.forms}),m)}}}},[["vSyi","runtime",0,2]]]);