(window.webpackJsonp=window.webpackJsonp||[]).push([["pagination"],{0:function(e,t){},J5mc:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("yq1k"),a("zKZe"),a("07d7"),a("5s+n"),a("JTJg");function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r(e,t,a){var r={};t&&t.headers&&(r=t.headers,delete t.headers),r=n({},r,{"Content-Type":"application/json; charset=utf-8"}),null===a&&(a="en_GB"),!1!==a&&""!==e||(a="");var o=window.location.protocol+"//"+window.location.hostname+"/";return"/"===e[0]&&(e=e.substring(1)),"http"===e.substring(0,4)&&(o=""),fetch(o+a+e,n({},t,{credentials:"same-origin",headers:r})).then(s).then((function(e){return e.text().then((function(e){return e.includes("window.Sfdump")?(console.log(e),""):"string"==typeof e?JSON.parse(e):""}))}))}function s(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}},d9xl:function(e,t,a){"use strict";a("pNMO"),a("4Brf"),a("0oug"),a("TeQF"),a("yq1k"),a("4mDm"),a("2B1R"),a("+2oP"),a("ToJy"),a("wLYn"),a("sMBO"),a("zKZe"),a("uL8W"),a("eoL8"),a("NBAS"),a("tkto"),a("ExoC"),a("07d7"),a("rB9j"),a("JTJg"),a("PKPk"),a("UxlC"),a("hByQ"),a("3bBZ");var n=a("q1tI"),r=a.n(n);a("17x9");function s(e){var t=e.row,a=e.sortColumn,n=e.sortColumnName,s=e.sortColumnDirection,o=[];return Object.keys(t.columns).map((function(e){var l=t.columns[e];if(!l.dataOnly){var i=null!==l.help?r.a.createElement("span",{className:"small text-gray-600 italic"},r.a.createElement("br",null),l.help):"",c=!0===l.sort?r.a.createElement("span",{className:"fas fa-sort fa-fw text-gray-600",style:{float:"right"}}):"",u=n;"array"==typeof n&&(u=n[0]),u===l.contentKey&&(c=r.a.createElement("span",{className:"fas fa-sort-"+s+" fa-fw text-gray-800",style:{float:"right"}}));var f=""!==l.headerClass?l.headerClass:l.class;o.push(r.a.createElement("th",{className:f,key:e,onClick:function(){return a(l.contentKey)}},c,l.label,i))}})),t.actions.length>0&&o.push(r.a.createElement("th",{className:"column width1",key:"actions"},t.actionTitle)),r.a.createElement("tr",{className:"head text-xs"},o)}var o=a("zsrT"),l=a.n(o),i=(a("mRH6"),a("A3CJ")),c=a.n(i),u=a("fhwx"),f=a.n(u);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){var t=e.row,a=e.content,n=e.functions,s=e.draggableSort;if(0===a.length)return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:t.columns.length+1},r.a.createElement("div",{className:"h-48 rounded-sm border bg-gray-100 shadow-inner overflow-hidden"},r.a.createElement("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 text-lg"},t.emptyContent)))));var o=Object.keys(a).map((function(e){var o=a[e],l=[];Object.keys(t.columns).map((function(e){var a=t.columns[e];if(!a.dataOnly){var n=[];if("object"===m(a.contentKey))if("image"===a.contentType){var s=void 0===a.options.style?{}:a.options.style,i=void 0===a.options.class?"":a.options.class;a.contentKey.map((function(e,t){0===t&&n.push(r.a.createElement(c.a,{src:o[e],style:s,className:i,key:t}))}))}else if("link"===a.contentType){var u=void 0===a.options.link?"#":a.options.link,h=void 0===a.options.title?"":a.options.title,p=void 0===a.options.style?{}:a.options.style,d=void 0===a.options.class?"":a.options.class;"object"===m(a.options.route_options)&&Object.keys(a.options.route_options).map((function(e){var t=a.options.route_options[e];u=u.replace("__"+t+"__",o[t])})),a.contentKey.map((function(e,t){0===t&&(""===d?n.push(r.a.createElement("a",{href:u,title:h,style:p,key:t},f()(o[e]))):n.push(r.a.createElement("a",{href:u,title:h,className:d,style:p,key:t},f()(o[e]))))}))}else a.contentKey.map((function(e,t){t>0?n.push(r.a.createElement("span",{key:t,className:"small text-gray-600 italic"},r.a.createElement("br",null),f()(o[e]))):n.push(r.a.createElement("span",{key:t},f()(o[e])))}));else n=[o[a.contentKey]];l.push(r.a.createElement("td",{key:e,className:a.class},n))}}));var i=Object.keys(t.actions).map((function(e){var a=t.actions[e];if(""===a.displayWhen||o[a.displayWhen])return""===a.onClick?r.a.createElement("a",{href:o.actions[e],className:a.aClass,key:e,title:a.title},r.a.createElement("span",{className:a.spanClass})):r.a.createElement("a",{onClick:function(){return n[a.onClick](o.actions[e],o)},className:a.aClass,key:e,title:a.title},r.a.createElement("span",{className:a.spanClass}))}));return t.actions.length>0&&l.push(r.a.createElement("td",{key:"actions"},r.a.createElement("div",{className:"group-hover:flex sm:flex"},i))),void 0===o.id&&console.error('You must define an "id" in your pagination array.'),s?r.a.createElement("tr",{className:i.columnClass,key:e,id:"pagination"+o.id,draggable:"true",onDragStart:function(e){return function(e){e.dataTransfer.setData("text",e.target.id)}(e)},onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDragEnter:function(e){return p(e,!0)},onDragLeave:function(e){return p(e,!1)}},l):r.a.createElement("tr",{className:i.columnClass,key:e,id:"pagination"+o.id},l)}));return s?r.a.createElement("tbody",{onDrop:function(e){return function(e){return e.target.parentNode.classList.remove("dropTarget"),document.getElementById(e.dataTransfer.getData("text")).classList.remove("dropTarget"),n.dropEvent(e)}(e)}},o):r.a.createElement("tbody",null,o)}function p(e,t){e.preventDefault(),t&&e.target.parentNode.classList.contains("dropTarget")||(t||e.target.parentNode.classList.contains("dropTarget"))&&e.target.parentNode.classList.toggle("dropTarget")}function d(e){var t=e.changeFilter,a=e.filters,n=(e.filter,e.filterGroups),s=e.messages,o=e.defaultFilters;if(0===Object.keys(a).length)return r.a.createElement("tr",{style:{display:"none"}});var l=[];Object.keys(a).map((function(e){var t=a[e];l.includes(t.group)||l.push(t.group)}));var i=[];l.map((function(e){var t=Object.keys(a).filter((function(t){var n=a[t];if(e===n.group)return n})).map((function(e){var t=a[e];return r.a.createElement("option",{value:t.name,key:e},t.label)}));i.push(r.a.createElement("optgroup",{key:e,label:e},t))})),i.unshift(r.a.createElement("option",{value:"",key:0},s.Filter));var c=[];return n!=={}&&(c=Object.keys(n).map((function(e){var s=n[e],o=a[s];return r.a.createElement("span",{onClick:function(){return t(o)},className:"primary button-like pointer-hover",key:e},s," ",r.a.createElement("span",{className:"far fa-times-circle fa-fw"}))}))),r.a.createElement("tr",{className:"flex flex-col sm:flex-row justify-between content-center p-0"},r.a.createElement("td",{className:"flex flex-col flex-grow justify-center -mb-1 sm:mb-0 px-2 border-b-0 sm:border-b border-t-0"},r.a.createElement("label",{htmlFor:"manage_search_search"},s["Filter Select"],o?r.a.createElement("span",{className:"text-xxs text-gray-600 italic font-normal mt-1 sm:mt-0"},r.a.createElement("br",null),s["Default filtering is enforced."]):""),r.a.createElement("div",{style:{marginTop:"7px",height:"20px"}},c)),r.a.createElement("td",{className:"w-full max-w-full sm:max-w-xs flex justify-end items-center px-2 border-b-0 sm:border-b border-t-0"},r.a.createElement("div",{className:"flex-1 relative"},r.a.createElement("select",{id:"filter_select",onChange:function(e){return t(e)},value:"",className:"w-full"},i))))}function g(e){var t=e.search,a=e.changeSearch,n=e.clearSearch,s=e.messages,o=e.searchValue;return t?r.a.createElement("tr",{className:"flex flex-col sm:flex-row justify-between content-center p-0"},r.a.createElement("td",{className:"flex flex-col flex-grow justify-center -mb-1 sm:mb-0 px-2 border-b-0 sm:border-b border-t-0"},r.a.createElement("label",{htmlFor:"search_input"},s["Search for"]),r.a.createElement("span",{id:"manage_search_search_help",className:"text-xxs text-gray-600 italic font-normal mt-1 sm:mt-0 help-text"},s["Search in"])),r.a.createElement("td",{className:"w-full max-w-full sm:max-w-xs flex justify-end items-center px-2 border-b-0 sm:border-b border-t-0"},r.a.createElement("div",{className:"flex-1 relative"},r.a.createElement("input",{type:"text",id:"search_input",onChange:function(e){return a(e)},value:o,className:"w-full"}),r.a.createElement("div",{className:"button-right"},r.a.createElement("button",{type:"button",title:s.Clear,onClick:function(){return n()},className:"button"},r.a.createElement("span",{className:"fa-fw fas fa-broom"})))))):r.a.createElement("tr",{style:{display:"none"}})}function y(e){var t=e.messages,a=e.doit,n=e.cancel,s="overlay";return e.confirm&&(s="overlay target"),r.a.createElement("div",{id:"areYouSure",className:s},r.a.createElement("div",{className:"popup"},r.a.createElement("h3",null,t["Are you sure you want to delete this record?"]),r.a.createElement("a",{className:"close",onClick:function(){return n()},title:t.Close},r.a.createElement("span",{className:"far fa-times-circle fa-fw"})),r.a.createElement("div",{className:"content"},r.a.createElement("p",{style:{color:"#cc0000"}},t["This operation cannot be undone, and may lead to loss of vital data in your system. PROCEED WITH CAUTION!"]),r.a.createElement("button",{type:"button",className:"button btn-gibbon",style:{color:"white",float:"right"},onClick:function(){return a()}},t.Yes))))}function b(e){var t=e.messages,a=e.cancel,n=e.information;if(!1===n)return r.a.createElement("div",{id:"informationDisplay",className:"overlay"},r.a.createElement("div",{className:"popup"}));for(var s=n.header;s.length>62;)s=s.slice(1);return r.a.createElement("div",{id:"informationDisplay",className:"overlay target"},r.a.createElement("div",{className:"popup"},r.a.createElement("a",{className:"close",onClick:function(){return a()},title:t.Close},r.a.createElement("span",{className:"far fa-times-circle fa-fw"})),r.a.createElement("h3",null,s),r.a.createElement("div",{className:"content"},f()(n.content))))}var v=a("J5mc");a("yXV3"),a("pDQq"),a("DQNa"),a("JfAA"),a("R5XZ");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){var t=e.message,a=e.cancelMessage,n=e.translate;return"string"==typeof t.message?r.a.createElement("div",{className:t.class},f()(t.message),t.close?r.a.createElement("button",{className:"button close "+t.class,onClick:function(){return a(t.id)},title:n("Close Message"),type:"button"},r.a.createElement("span",{className:"fas fa-times-circle fa-fw "+t.class})):""):"object"===C(t.message)?r.a.createElement("div",{className:t.class},f()(t.message.message),r.a.createElement("br",null),r.a.createElement("span",{className:"small"},f()(t.message.stack)),t.close?r.a.createElement("button",{className:"button close "+t.class,onClick:function(){return a(t.id)},title:n("Close Message"),type:"button"},r.a.createElement("span",{className:"fas fa-times-circle fa-fw "+t.class})):""):(console.log("message.message is a "+C(t.message)),console.log(t),null)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=N(t).call(this,e))||"object"!==w(r)&&"function"!=typeof r?O(n):r).translate=e.translate,a.cancelMessage=a.cancelMessage.bind(O(a)),a}var a,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),a=t,(n=[{key:"cancelMessage",value:function(e){var t=this.props.messages;t.splice(e,1),this.setState({messages:t})}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.messages).map((function(t){var a=e.props.messages[t];if(void 0===a.close&&(a.close=!0),void 0===a)return"";if("string"==typeof a){var n={};n.message=a,n.class="error",n.id=t,a=x({},n)}return a.id=t,r.a.createElement(k,{message:a,translate:e.translate,close:a.close,key:"message_"+a.id,cancelMessage:e.cancelMessage})}));return 0===t.length?null:r.a.createElement("div",null,t)}}])&&S(a.prototype,n),s&&S(a,s),t}(n.Component);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.d(t,"a",(function(){return L}));var L=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=T(t).call(this,e))||"object"!==F(r)&&"function"!=typeof r?D(n):r).pageMax=e.pageMax,a.row=e.row,a.content=e.content,a.filters=e.row.filters,a.messages=e.translations,a.search=e.row.search,a.filterGroups=e.row.filterGroups,a.contentLoader=e.contentLoader,a.defaultFilter=e.row.defaultFilter,a.initialFilter=e.initialFilter,a.initialSearch=e.initialSearch,a.addElementRoute=e.addElementRoute,a.draggableSort=e.draggableSort,a.columnCount=0,a.storeFilterURL=e.storeFilterURL,a.draggableRoute=e.draggableRoute,a.storeFilterWait=!1,a.sortColumn=a.sortColumn.bind(D(a)),a.firstPage=a.firstPage.bind(D(a)),a.lastPage=a.lastPage.bind(D(a)),a.prevPage=a.prevPage.bind(D(a)),a.nextPage=a.nextPage.bind(D(a)),a.deleteItem=a.deleteItem.bind(D(a)),a.closeConfirm=a.closeConfirm.bind(D(a)),a.adjustPageSize=a.adjustPageSize.bind(D(a)),a.changeFilter=a.changeFilter.bind(D(a)),a.changeSearch=a.changeSearch.bind(D(a)),a.clearSearch=a.clearSearch.bind(D(a)),a.translate=a.translate.bind(D(a)),a.handleAddClick=a.handleAddClick.bind(D(a)),a.functions={areYouSure:a.areYouSure.bind(D(a)),displayInformation:a.displayInformation.bind(D(a)),dropEvent:a.dropEvent.bind(D(a))},a.path="",a.state={sortColumn:"",sortDirection:"",results:[],offset:0,pageMax:a.pageMax,confirm:!1,information:!1,filteredContent:a.content,filter:[],filterGroups:{},search:"",messages:[]},a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.columnCount=0,this.row.columns.map((function(t){!1===t.dataOnly&&(e.columnCount=e.columnCount+1)})),this.row.actions.length>0&&(this.columnCount=this.columnCount+1),!1!==this.contentLoader&&(this.row.emptyContent=this.messages["Loading Content..."],this.loadContent()),this.changeFilter(null),this.draggableSort){var t={class:"info",message:"Items rows can be dragged into the correct position.",close:!1};this.setState({messages:[t]})}if(this.setInitialFilter(),""!==this.initialSearch){var a={target:{}};a.target.value=this.initialSearch,this.changeSearch(a)}}},{key:"translate",value:function(e){return function(e,t){return void 0===(a=e[t])||""===a||null===a||a===[]||a==={}?(console.error("Unable to translate: "+t),t):e[t];var a}(this.messages,e)}},{key:"setInitialFilter",value:function(){var e=this;this.initialFilter.length>0&&this.initialFilter.map((function(t){var a={target:{}};a.target.value=t,e.changeFilter(a)}))}},{key:"loadContent",value:function(){var e=this;Object(v.a)(this.contentLoader,{},!1).then((function(t){if("success"===t.status){e.content=t.content,e.pageMax=t.pageMax;var a=e.paginateContent(e.content,0,e.pageMax);e.row.emptyContent=e.messages["There are no records to display."],e.setState({results:a})}else e.setState({information:t.message})})).catch((function(t){console.error(t),e.setState({information:t})}))}},{key:"areYouSure",value:function(e,t){this.path=e,this.setState({confirm:!0})}},{key:"displayInformation",value:function(e,t){var a=this;this.path=e,this.setState({information:{header:this.translate("Loading")+"...",content:""}}),Object(v.a)(e,{},!1).then((function(e){a.setState({information:e})}))}},{key:"deleteItem",value:function(e){this.setState({confirm:!1}),window.open(e,"_self")}},{key:"closeConfirm",value:function(){this.path="",this.setState({confirm:!1,information:!1})}},{key:"dropEvent",value:function(e){var t=this;e.preventDefault();var a=e.dataTransfer.getData("text").replace("pagination",""),n=e.target.parentNode.id.replace("pagination",""),r=this.draggableRoute.replace("__source__",a).replace("__target__",n);Object(v.a)(r,{},!1).then((function(e){var a=t.state.messages;if(e.errors.map((function(e){a.push(e)})),"success"===e.status){t.content=e.content;var n=t.paginateContent(t.content,0,t.state.pageMax);t.setState({results:n,messages:a})}else"error"===e.status&&t.setState({messages:a})}))}},{key:"sortColumn",value:function(e){var t=this,a={};if(Object.keys(this.row.columns).filter((function(n){t.row.columns[n].contentKey===e&&(a=t.row.columns[n])})),!0===a.sort){var n=this.state.sortDirection;"object"===F(e)&&(e=e[0]),n=e===this.state.sortColumn&&"down"===n?"up":"down";var r=this.paginateContent(this.sortContent(e,n,this.state.filteredContent),this.state.offset);this.setState({sortColumn:e,sortDirection:n,results:r,control:this.buildControl(this.state.offset,r)})}}},{key:"sortContent",value:function(e,t,a){return""===e&&(e=this.state.sortColumn,t=this.state.sortDirection),""===e?a:a.sort(l()(e,"up"===t?-1:1))}},{key:"paginateContent",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 0===a&&(a=this.state.pageMax),e.slice(t,t+a)}},{key:"firstPage",value:function(){this.checkOffset(this.state.filteredContent,0)}},{key:"prevPage",value:function(){this.checkOffset(this.state.filteredContent,this.state.offset-this.state.pageMax)}},{key:"nextPage",value:function(){this.checkOffset(this.state.filteredContent,this.state.offset+this.state.pageMax)}},{key:"lastPage",value:function(){for(var e=this.state.offset;e<=this.state.filteredContent.length;)e+=this.state.pageMax;this.checkOffset(this.state.filteredContent,e,this.state.pageMax)}},{key:"handleAddClick",value:function(e,t,a){e.preventDefault(),function(e,t){void 0===t&&(t="_blank");var a="";"object"===E(e)&&(e=(a=e).url,t=a.target,a=void 0!==a.options?a.options:""),window.open(e,t,a)}(t,a)}},{key:"checkOffset",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(0===a&&(a=this.state.pageMax);t>e.length;)t-=a;a>=e.length&&(t=0),t<0&&(t=0);var n=this.paginateContent(this.sortContent("","",e),t,a);this.setState({offset:t,results:n,pageMax:a,sizeButtons:this.buildPageSizeControls(a),filteredContent:e})}},{key:"adjustPageSize",value:function(e){"All"===e&&(e=this.state.filteredContent.length),this.checkOffset(this.state.filteredContent,this.state.offset,e)}},{key:"buildPageSizeControls",value:function(){var e=this,t=[];return this.state.filteredContent.length>10&&(t.push(r.a.createElement("a",{href:"#",key:"10",onClick:function(){return e.adjustPageSize(10)},className:10===this.state.pageMax?"text-blue-600":"text-gray-600"},"10")),t.push(r.a.createElement("a",{href:"#",key:"25",onClick:function(){return e.adjustPageSize(25)},className:25===this.state.pageMax?"text-blue-600":"text-gray-600"},",25"))),this.state.filteredContent.length>25&&t.push(r.a.createElement("a",{href:"#",key:"50",onClick:function(){return e.adjustPageSize(50)},className:50===this.state.pageMax?"text-blue-600":"text-gray-600"},",50")),this.state.filteredContent.length>50&&t.push(r.a.createElement("a",{href:"#",key:"100",onClick:function(){return e.adjustPageSize(100)},className:100===this.state.pageMax?"text-blue-600":"text-gray-600"},",100")),this.state.filteredContent.length>100&&t.push(r.a.createElement("a",{href:"#",key:"All",onClick:function(){return e.adjustPageSize("All")},className:this.state.pageMax===this.state.filteredContent.length?"text-blue-600":"text-gray-600"},",",this.messages.All)),t}},{key:"buildControl",value:function(){var e=this,t=[];if(this.state.filteredContent.length>0){var a=this.row.caption.replace("{start}",this.state.offset+1);a=(a=a.replace("{end}",this.state.results.length+this.state.offset)).replace("{total}",this.state.filteredContent.length),this.state.offset>0&&t.push(r.a.createElement("a",{href:"#",key:"first",onClick:function(){return e.firstPage()},title:this.row.firstPage},r.a.createElement("span",{className:"text-gray-600 fas fa-angle-double-left fa-fw"}))),this.state.filteredContent.length>this.state.pageMax&&this.state.offset>0&&t.push(r.a.createElement("a",{href:"#",key:"prev",onClick:function(){return e.prevPage()},title:this.row.prevPage},r.a.createElement("span",{className:"text-gray-600 fas fa-angle-left fa-fw"}))),t.push(r.a.createElement("span",{key:"content"},a)),this.state.filteredContent.length>this.state.pageMax&&this.state.pageMax+this.state.offset<this.state.filteredContent.length&&(t.push(r.a.createElement("a",{href:"#",key:"next",onClick:function(){return e.nextPage()},title:this.row.nextPage},r.a.createElement("span",{className:"text-gray-600 fas fa-angle-right fa-fw"}))),t.push(r.a.createElement("a",{href:"#",key:"last",onClick:function(){return e.lastPage()},title:this.row.lastPage},r.a.createElement("span",{className:"text-gray-600 fas fa-angle-double-right fa-fw"}))))}return""!==this.addElementRoute&&t.push(r.a.createElement("a",{href:"#",key:"add",className:"close-button gray ml-3",onClick:function(t){return e.handleAddClick(t,e.addElementRoute,"_self")},title:this.row.addElement},r.a.createElement("span",{className:"fas fa-plus-circle fa-fw text-gray-800 hover:text-purple-600"}))),t}},{key:"filterContent",value:function(e,t){var a=this;e===[]&&(e=this.state.filter);var n=this.content;if(e.map((function(e){var t=a.filters[e],r=n.filter((function(e){if(t.value===e[t.contentKey])return e}));n=r})),this.search&&""!==t){t=t.toLowerCase();var r=[];n.filter((function(e){var n=!1;a.row.columns.map((function(a){a.search&&a.contentKey.map((function(a){!n&&void 0!==e[a]&&e[a].toLowerCase().includes(t)&&(n=!0,r.push(e))}))}))})),n=r}return n}},{key:"changeFilter",value:function(e){var t=this,a=_({},this.state.filterGroups);if(null===e){if(null===this.defaultFilter){var n=this.paginateContent(this.content,this.state.offset);return void this.setState({results:n,control:this.buildControl(this.state.offset,n),sizeButtons:this.buildPageSizeControls(this.state.pageMax),confirm:!1})}if(0===Object.keys(a).length){if(a={},this.state.filter.length>0){var r=0;this.state.filter.map((function(n){var s=t.filters[n];0===r?(a[s.group]="",e=s):a[s.group]=s.value,r+=1}))}Object.keys(this.defaultFilter).map((function(n){if(null===e)e=t.defaultFilter[n],a[e.group]="";else{var r=t.defaultFilter[n];a[r.group]=r.name}}))}}else if(void 0===e.group){if(""===e.target.value)return;e=this.filters[e.target.value]}var s=this.state.filter;if(this.filterGroups){var o=a[e.group];void 0===o?a[e.group]=e.name:o===e.name?delete a[e.group]:a[e.group]=e.name,null!==this.defaultFilter&&Object.keys(this.defaultFilter).map((function(n){e=t.defaultFilter[n],void 0===a[e.group]&&(a[e.group]=e.name)})),s=Object.keys(a).map((function(e){return a[e]}))}else s=[e.name];var l=this.filterContent(s,this.state.search),i=this.paginateContent(this.sortContent("","",l),0,0);this.setState({results:i,control:this.buildControl(this.state.offset,i),filter:s,filteredContent:l,filterGroups:a})}},{key:"changeSearch",value:function(e){var t=this.filterContent(this.state.filter,e.target.value),a=this.paginateContent(this.sortContent("","",t),0,0);this.setState({search:e.target.value,results:a,control:this.buildControl(this.state.offset,a),filteredContent:t})}},{key:"clearSearch",value:function(e){var t=this.filterContent(this.state.filter,""),a=this.paginateContent(this.sortContent("","",t),0,0);this.setState({search:"",results:a,control:this.buildControl(this.state.offset,a),filteredContent:t})}},{key:"searchFilter",value:function(){return this.search?"":Object.keys(this.filters).length>0?"":"none"}},{key:"storeFilter",value:function(){var e=this;if(null!==this.storeFilterURL){var t={};t.filter=this.state.filter,t.search=this.state.search,this.storeFilterWait=!0,Object(v.a)(this.storeFilterURL,{method:"POST",body:JSON.stringify(t)},!1).then((function(t){e.storeFilterWait=!1}))}}},{key:"render",value:function(){var e=this;return this.storeFilter(),r.a.createElement("div",null,r.a.createElement("div",{className:"text-xs text-gray-600 text-left"},r.a.createElement(P,{messages:this.state.messages,translate:this.translate}),r.a.createElement("span",{style:{float:"left",clear:"both"}},this.buildPageSizeControls()),r.a.createElement("span",{style:{float:"right"}},this.buildControl())),r.a.createElement("table",{className:"w-full striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{display:this.searchFilter()}},r.a.createElement("td",{colSpan:this.columnCount},r.a.createElement("table",{className:"noIntBorder fullWidth relative"},r.a.createElement("tbody",null,r.a.createElement(g,{search:this.search,messages:this.messages,clearSearch:this.clearSearch,changeSearch:this.changeSearch,searchValue:this.state.search}),r.a.createElement(d,{filter:this.state.filter,filters:this.filters,changeFilter:this.changeFilter,messages:this.messages,filterGroups:this.state.filterGroups,defaultFilters:null!==this.defaultFilter}))))),r.a.createElement(s,{row:this.row,sortColumn:this.sortColumn,sortColumnName:this.state.sortColumn,sortColumnDirection:this.state.sortDirection})),r.a.createElement(h,{row:this.row,content:this.state.results,functions:this.functions,draggableSort:this.draggableSort})),r.a.createElement(y,{messages:this.messages,doit:function(){return e.deleteItem(e.path)},cancel:function(){return e.closeConfirm()},confirm:this.state.confirm}),r.a.createElement(b,{messages:this.messages,cancel:function(){return e.closeConfirm()},information:this.state.information}))}}])&&M(a.prototype,n),o&&M(a,o),t}(n.Component);L.defaultProps={draggableRoute:""}},veMa:function(e,t,a){"use strict";a.r(t);a("pNMO"),a("4Brf"),a("0oug"),a("4mDm"),a("2B1R"),a("07d7"),a("PKPk"),a("3bBZ");var n=a("q1tI"),r=a.n(n),s=a("i8i4"),o=a("d9xl");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.onload=function(){if("object"===l(window.PAGINATION_PROPS.contentList))window.PAGINATION_PROPS.contentList.map((function(e){var t=e.targetElement,a=document.getElementById(t);null===a?Object(s.render)(r.a.createElement("div",null," "),document.getElementById("dumpStuff")):Object(s.render)(r.a.createElement(o.a,e),a)}));else{var e=window.PAGINATION_PROPS.targetElement,t=document.getElementById(e);null===t?Object(s.render)(r.a.createElement("div",null," "),document.getElementById("dumpStuff")):Object(s.render)(r.a.createElement(o.a,window.PAGINATION_PROPS),t)}}}},[["veMa","runtime",0]]]);