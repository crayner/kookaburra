(window.webpackJsonp=window.webpackJsonp||[]).push([["idleTimeout"],{DQNa:function(e,t,n){var i=n("busE"),o=Date.prototype,r=o.toString,a=o.getTime;new Date(NaN)+""!="Invalid Date"&&i(o,"toString",function(){var e=a.call(this);return e==e?r.call(this):"Invalid Date"})},HNiu:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),o=n.n(i),r=n("i8i4"),a=(n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("brp2"),n("DQNa"),n("wLYn"),n("uL8W"),n("eoL8"),n("NBAS"),n("ExoC"),n("07d7"),n("PKPk"),n("3bBZ"),n("R5XZ"),n("17x9")),s=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){var n;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];n&&clearTimeout(n),n=setTimeout(function(){e.apply(void 0,o),n=null},t)}}function h(e,t){var n=0;return function(){var i=(new Date).getTime();if(!(i-n<t))return n=i,e.apply(void 0,arguments)}}var v="object"===("undefined"==typeof window?"undefined":"undefined"==typeof window?"undefined":u(window)),b=v?document:{},g=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}(this,p(t).call(this,e)),c(f(n),"state",{idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null}),c(f(n),"tId",null),c(f(n),"_handleEvent",function(e){var t=n.state,i=t.remaining,o=t.pageX,r=t.pageY,a=t.idle,s=n.props,u=s.timeout,l=s.onAction,c=s.debounce,d=s.throttle,p=s.stopOnIdle;if(c>0?n.debouncedAction(e):d>0?n.throttledAction(e):l(e),!i){if("mousemove"===e.type){if(e.pageX===o&&e.pageY===r)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(n.getElapsedTime()<200)return}clearTimeout(n.tId),n.tId=null,a&&!p&&n.toggleIdleState(e),n.setState({lastActive:+new Date,pageX:e.pageX,pageY:e.pageY}),a&&p||(n.tId=setTimeout(n.toggleIdleState,u))}}),e.debounce>0&&e.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return e.debounce>0&&(n.debouncedAction=m(e.onAction,e.debounce)),e.throttle>0&&(n.throttledAction=h(e.onAction,e.throttle)),e.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(f(n)),n.reset=n.reset.bind(f(n)),n.pause=n.pause.bind(f(n)),n.resume=n.resume.bind(f(n)),n.getRemainingTime=n.getRemainingTime.bind(f(n)),n.getElapsedTime=n.getElapsedTime.bind(f(n)),n.getLastActiveTime=n.getLastActiveTime.bind(f(n)),n.isIdle=n._isIdle.bind(f(n)),n}return d(t,i["Component"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentDidMount",value:function(){this._bindEvents(),this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(e){e.debounce!==this.props.debounce&&(this.debouncedAction=m(this.props.onAction,this.props.debounce)),e.throttle!==this.props.throttle&&(this.throttledAction=h(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents(!0)}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var e=this;if(v){var t=this.state.eventsBound,n=this.props,i=n.element,o=n.events,r=n.passive,a=n.capture;t||(o.forEach(function(t){i.addEventListener(t,e._handleEvent,{capture:a,passive:r})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(v){var n=this.props,i=n.element,o=n.events,r=n.passive,a=n.capture;(this.state.eventsBound||t)&&(o.forEach(function(t){i.removeEventListener(t,e._handleEvent,{capture:a,passive:r})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(e){var t=this,n=this.state.idle,i=this.props,o=i.onActive,r=i.onIdle,a=i.stopOnIdle;this.setState({idle:!n},function(){n?a||(t._bindEvents(),o(e)):(a&&(clearTimeout(t.tId),t.tId=null,t._unbindEvents()),r(e))})}},{key:"reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null});var e=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,e)}},{key:"pause",value:function(){null===this.state.remaining&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"resume",value:function(){var e=this.state,t=e.remaining,n=e.idle;null!==t&&(this._bindEvents(),n||(this.setState({remaining:null,lastActive:+new Date}),this.tId=setTimeout(this.toggleIdleState,t)))}},{key:"getRemainingTime",value:function(){var e=this.state,t=e.remaining,n=e.lastActive,i=this.props.timeout;if(null!==t)return t<0?0:t;var o=i-(+new Date-n);return o<0?0:o}},{key:"getElapsedTime",value:function(){var e=this.state.oldDate;return+new Date-e}},{key:"getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();c(g,"propTypes",{timeout:s.a.number,events:s.a.arrayOf(s.a.string),onIdle:s.a.func,onActive:s.a.func,onAction:s.a.func,debounce:s.a.number,throttle:s.a.number,element:s.a.oneOfType([s.a.object,s.a.element]),startOnMount:s.a.bool,stopOnIdle:s.a.bool,passive:s.a.bool,capture:s.a.bool}),c(g,"defaultProps",{timeout:12e5,element:b,events:["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0});var y=g,w=n("ohO+");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(o=I(t).call(this,e))||"object"!==T(o)&&"function"!=typeof o?_(i):o).idleTimer=null,n.state={timeout:1e3*e.duration,remaining:null,lastActive:null,elapsed:null,display:!1},n.onActive=n._onActive.bind(_(n)),n.onIdle=n._onIdle.bind(_(n)),n.reset=n._reset.bind(_(n)),n.changeTimeout=n._changeTimeout.bind(_(n)),n.route=e.route,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,i["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;null!==this.idleTimer&&(this.setState({remaining:this.idleTimer.getRemainingTime(),lastActive:this.idleTimer.getLastActiveTime(),elapsed:this.idleTimer.getElapsedTime()}),setInterval(function(){e.setState({remaining:e.idleTimer.getRemainingTime(),lastActive:e.idleTimer.getLastActiveTime(),elapsed:e.idleTimer.getElapsedTime(),display:!(e.state.timeout-e.idleTimer.getElapsedTime()>3e4)}),e.wasLastActive!==e.idleTimer.getLastActiveTime()&&e.refreshPage(),e.wasLastActive=e.idleTimer.getLastActiveTime(),e.state.elapsed>e.state.timeout&&e.logout()},1e3))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(y,{ref:function(t){e.idleTimer=t},onActive:this.onActive,onIdle:this.onIdle,timeout:this.state.timeout,throttle:50,startOnLoad:!0}),this.state.display?o.a.createElement("div",{style:{position:"absolute",width:"100%",top:0,left:0,height:"100%",background:"rgba(230, 230, 255, 0.5)",zIndex:99999}},o.a.createElement("div",{style:{position:"relative",width:"100%",top:0,left:0,height:"100%"}},o.a.createElement("div",{className:"",style:{background:"peachpuff",maxWidth:"325px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",borderRadius:"5px"}},o.a.createElement("div",{className:"w-full",style:{padding:"2rem"}},o.a.createElement("div",{className:"",style:{borderRadius:"5px"}},o.a.createElement("img",{style:{float:"right",marginTop:"-40px"},src:"/build/static/kookaburra.png",height:50}),o.a.createElement("h3",null,"Kookaburra"),o.a.createElement("span",{className:"warning"},this.props.trans_sessionExpire))),o.a.createElement("div",{className:"w-full",style:{paddingBottom:"2rem"}},o.a.createElement("div",{className:"w-full max-w-full sm:max-w-xs flex justify-end items-center px-2 border-b-0 sm:border-b border-t-0 content-centre"},o.a.createElement("input",{className:"btn-gibbon",type:"button",onClick:function(){return e.reset},value:this.props.trans_stayConnected}),"  "))))):"")}},{key:"refreshPage",value:function(){this.state.elapsed>this.state.timeout&&this.logout(),this.reset()}},{key:"_onActive",value:function(){this.refreshPage()}},{key:"_onIdle",value:function(){}},{key:"_changeTimeout",value:function(){this.setState({timeout:this.refs.timeoutInput.state.value()})}},{key:"_reset",value:function(){this.idleTimer.reset(),this.setState({display:!1,lastActive:Date.now()})}},{key:"logout",value:function(){Object(w.a)(this.route,{method:"GET"},!1)}}])&&E(n.prototype,r),a&&E(n,a),t}(),S=document.getElementById("idleTimeout");Object(r.render)(o.a.createElement(O,window.IDLETIMEOUT_PROPS),S)},R5XZ:function(e,t,n){var i=n("I+eb"),o=n("2oRo"),r=n("s5pE"),a=[].slice,s=function(e){return function(t,n){var i=arguments.length>2,o=i?a.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(r)},{setTimeout:s(o.setTimeout),setInterval:s(o.setInterval)})},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},"ohO+":function(e,t,n){"use strict";function i(e,t,n){var i="_self";t&&"string"==typeof t.target&&(i=t.target);var o="";t&&"string"==typeof t.specs&&(o=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en_GB"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,i,o)}n.d(t,"a",function(){return i})},s5pE:function(e,t,n){var i=n("0GbY");e.exports=i("navigator","userAgent")||""}},[["HNiu","runtime",0]]]);