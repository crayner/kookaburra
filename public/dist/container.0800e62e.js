(window.webpackJsonp=window.webpackJsonp||[]).push([["container"],{"7K2e":function(e,t,n){"use strict";function r(e){return void 0===e||(""===e||(null===e||(e===[]||e==={})))}n.d(t,"a",function(){return r})},AMWX:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("4mDm"),n("2B1R"),n("wLYn"),n("sMBO"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("4l63"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("r3Yy")),s=n("J5mc"),l=n("VAT+"),i=n("koSi");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=m(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?d(r):a).panels=e.panels?e.panels:{},n.content=e.content?e.content:null,n.translations=e.translations,n.actionRoute=e.actionRoute,0===Object.keys(n.panels).length&&null!==n.content&&(n.panels.default={},n.panels.default.name="default",n.panels.default.disabled=!0,n.panels.default.content=n.content),n.functions={translate:n.translate.bind(d(n)),openUrl:i.k.bind(d(n)),downloadFile:i.e.bind(d(n)),onSelectTab:n.onSelectTab.bind(d(n)),deleteFile:n.deleteFile.bind(d(n)),submitForm:n.submitForm.bind(d(n)),onElementChange:n.onElementChange.bind(d(n)),deleteElement:n.deleteElement.bind(d(n)),addElement:n.addElement.bind(d(n)),onCKEditorChange:n.onCKEditorChange.bind(d(n)),generateNewPassword:n.generateNewPassword.bind(d(n))},n.state={selectedPanel:e.selectedPanel,forms:u({},e.forms),panelErrors:{}},n.formNames={},n.submit={},n.singleForm=1===Object.keys(e.forms).length,n}var p,b,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),p=t,(b=[{key:"componentDidMount",value:function(){var e=this;Object.keys(this.state.forms).map(function(t){var n=e.state.forms[t];e.formNames[n.name]=t,e.submit[n.name]=!1});var t={};this.singleForm&&(t=Object(i.n)({},{})),this.setMyState(this.state.forms,t)}},{key:"setMyState",value:function(e,t){void 0===t&&(t=this.state.panelErrors),this.setState({forms:e,panelErrors:t})}},{key:"translate",value:function(e){return Object(i.o)(this.translations,e)}},{key:"onSelectTab",value:function(e){var t=this.state.selectedPanel,n=0;Object.keys(this.panels).map(function(r){n===e&&(t=r),n++}),this.setState({selectedPanel:t})}},{key:"deleteFile",value:function(e){var t=this,n="/resource/"+btoa(e.value)+"/"+this.actionRoute+"/delete/";void 0!==e.delete_security&&!1!==e.delete_security&&(n="/resource/"+btoa(e.value)+"/"+e.delete_security+"/delete/");var r=Object(i.g)(this.state.forms,e);Object(s.a)(n,{},!1).then(function(n){if("success"===n.status){var a=r.errors;a=a.concat(n.errors),r.errors=a,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),Object(i.c)(r,e,"")),t.singleForm))}else{var o=r.errors;o=o.concat(n.errors),r.errors=o,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))}}).catch(function(n){var a=r.errors;a.push({class:"error",message:n}),r.errors=a,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))})}},{key:"generateNewPassword",value:function(e){var t=Object(l.a)(e.generateButton.passwordPolicy),n=Object(i.g)(this.state.forms,e),r=e.id.replace("first","second");n=u({},Object(i.c)(n,e,t));var a=Object(i.f)(n,r,{});alert(e.generateButton.alertPrompt+": "+t),n=Object(i.c)(n,a,t),this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n)))}},{key:"onCKEditorChange",value:function(e,t,n){var r=t.getData();this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,n),Object(i.c)(Object(i.g)(this.state.forms,n),n,r))))}},{key:"onElementChange",value:function(e,t){var n=this,r=t.submit_on_change,a=Object(i.g)(this.state.forms,t),o=Object(i.h)(this.formNames,t);if("toggle"!==t.type){if("file"===t.type){var s=e.target.files[0],l=new FileReader;return l.readAsDataURL(s),l.onerror=function(e){a.errors.push({class:"error",message:n.functions.translations("A problem occurred loading the file.")}),n.setMyState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s)),n.singleForm))},void(l.onload=function(e){s=e.target.result,n.setMyState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s))))})}var c=e.target.value;t.value=c;var f=Object(i.c)(u({},a),t,c);this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,o,f),this.singleForm)),r&&this.submitForm({},t)}else{var m="Y"===t.value?"N":"Y";this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,o,Object(i.c)(a,t,m)),this.singleForm))}}},{key:"submitForm",value:function(e,t){var n=this,r=Object(i.h)(this.formNames,t);if(!this.submit[r]){this.submit[r]=!0,this.setMyState(Object(i.b)(u({},this.state.forms),this.singleForm));var a=u({},Object(i.g)(this.state.forms,t)),o=Object(i.a)({},a);Object(s.a)(a.action,{method:a.method,body:JSON.stringify(o)},!1).then(function(e){if("redirect"===e.status)window.open(e.redirect,"_self");else{var t=a.errors;t=t.concat(e.errors);var o=u({},e.form);o.errors=t,n.submit[r]=!1,n.setMyState(Object(i.b)(u({},Object(i.j)(n.state.forms,r,u({},o))),n.singleForm),Object(i.n)(u({},o),{}))}}).catch(function(e){a.errors.push({class:"error",message:e}),n.submit[r]=!1,n.setMyState(Object(i.b)(u({},Object(i.j)(n.state.forms,r,u({},a))),n.singleForm),Object(i.n)(u({},t),{}))})}}},{key:"deleteElement",value:function(e){var t=this,n=Object(i.g)(this.state.forms,e),r=n;if(n=Object(i.d)(n,e),this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n),this.singleForm)),"boolean"!=typeof e.never_saved){var a=e.id.replace("_"+e.name,""),o=Object(i.f)(n,a,{}),l=o.element_delete_route;"object"!==c(o.element_delete_options)&&(o.element_delete_options={});var f=!0;if(Object.keys(o.element_delete_options).map(function(t){var n=o.element_delete_options[t];l=l.replace(t,e.children[n].value),parseInt(e.children[n].value)<1&&(f=!1)}),!1===f)return;Object(s.a)(l,[],!1).then(function(a){var o=n.errors;o=o.concat(a.errors),n.errors=o,"success"===a.status?t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm)):t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),u({},r)),t.singleForm))}).catch(function(a){var o=(n=u({},r)).errors;o.push({class:"error",message:a}),n.errors=o,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm))})}}},{key:"addElement",value:function(e){var t=n("xk4V")(),r=u({},Object(i.m)(u({},e.prototype),t)),a=u({},Object(i.g)(this.state.forms,e)),o=Object(i.h)(this.formNames,e);if(r.children.id.value=t,"object"===c(e.children)){var s=[];Object.keys(e.children).map(function(t){s.push(u({},e.children[t]))}),e.children=s}void 0===e.children&&(e.children=[]),r.never_saved=!0,e.children.push(u({},r)),a=u({},Object(i.l)(a,e)),this.setMyState(Object(i.b)(u({},Object(i.j)(this.state.forms,o,a)),this.singleForm))}},{key:"render",value:function(){return a.a.createElement("section",null,Object(i.i)(this.submit)?a.a.createElement("div",{className:"waitOne info"},this.functions.translate("Let me ponder your request"),"..."):"",a.a.createElement(o.a,{panels:this.panels,selectedPanel:this.state.selectedPanel,functions:this.functions,forms:this.state.forms,actionRoute:this.actionRoute,singleForm:this.singleForm,translations:this.translations,panelErrors:this.state.panelErrors}))}}])&&f(p.prototype,b),y&&f(p,y),t}();p.defaultProps={functions:{},translations:{},forms:{}}},Bcp6:function(e,t,n){},J5mc:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("yq1k"),n("zKZe"),n("07d7"),n("5s+n"),n("JTJg");function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n){var a={};t&&t.headers&&(a=t.headers,delete t.headers),a=r({},a,{"Content-Type":"application/json; charset=utf-8"}),null===n&&(n="en_GB"),!1!==n&&""!==e||(n="");var s=window.location.protocol+"//"+window.location.hostname+"/";return"http"===e.substring(0,4)&&(s=""),"/"===e[0]&&(e=e.substring(1)),fetch(s+n+e,r({},t,{credentials:"same-origin",headers:a})).then(o).then(function(e){return e.text().then(function(e){return e.includes("window.Sfdump")?(console.log(e),""):"string"==typeof e?JSON.parse(e):""})})}function o(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}},JlTO:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("4mDm"),n("2B1R"),n("+2oP"),n("DQNa"),n("wLYn"),n("sMBO"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("4l63"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("r3Yy")),s=n("J5mc"),l=n("VAT+"),i=n("koSi");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=m(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?d(r):a).panels=e.panels?e.panels:{},n.content=e.content?e.content:null,n.translations=e.translations,n.actionRoute=e.actionRoute,0===Object.keys(n.panels).length&&null!==n.content&&(n.panels.default={},n.panels.default.name="default",n.panels.default.disabled=!0,n.panels.default.content=n.content),n.functions={translate:n.translate.bind(d(n)),openUrl:i.k.bind(d(n)),downloadFile:i.e.bind(d(n)),onSelectTab:n.onSelectTab.bind(d(n)),deleteFile:n.deleteFile.bind(d(n)),submitForm:n.submitForm.bind(d(n)),onElementChange:n.onElementChange.bind(d(n)),deleteElement:n.deleteElement.bind(d(n)),addElement:n.addElement.bind(d(n)),onCKEditorChange:n.onCKEditorChange.bind(d(n)),generateNewPassword:n.generateNewPassword.bind(d(n)),selectLibraryAndType:n.selectLibraryAndType.bind(d(n)),loadGoogleBookData:n.loadGoogleBookData.bind(d(n))},n.state={forms:u({},e.forms),panelErrors:{},selectedPanel:e.selectedPanel},n.formNames={},n.submit={},n.singleForm=1===Object.keys(e.forms).length,n}var p,b,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),p=t,(b=[{key:"componentDidMount",value:function(){var e=this;Object.keys(this.state.forms).map(function(t){var n=e.state.forms[t];e.formNames[n.name]=t,e.submit[n.name]=!1});var t={};this.singleForm&&(t=Object(i.n)({},{})),this.setMyState(this.state.forms,t)}},{key:"loadGoogleBookData",value:function(){var e=this,t=""!==this.state.forms.single.children.field6.value?this.state.forms.single.children.field6.value:this.state.forms.single.children.field5.value;if(""===t){var n=u({},this.state.forms.single);n.errors.push({class:"warning",message:this.translate("Please enter an ISBN13 or ISBN10 value before trying to get data from Google Books.")});var r=u({},this.state.forms);return r.single=n,void this.setMyState(r)}var a="https://www.googleapis.com/books/v1/volumes?q=isbn:"+t;Object(s.a)(a,[],!1).then(function(t){var n=u({},e.state.forms.single);if(0===t.totalItems)return n.errors.push({class:"warning",message:e.translate("The specified record cannot be found.")}),void e.setMyState({single:n});var r=t.items[0];n.children.name.value=r.volumeInfo.title;for(var a="",o=0;o<r.volumeInfo.authors.length;o++)a=a+r.volumeInfo.authors[o]+", ";n.children.producer.value=a,n.children.field1.value=r.volumeInfo.publisher;var s=new Date(r.volumeInfo.publishedDate);n.children.field2.value=("000"+s.getDate()).slice(-2)+"/"+("000"+(s.getMonth()+1)).slice(-2)+"/"+s.getFullYear(),n.children.field7.value=r.volumeInfo.description,"ISBN_10"===r.volumeInfo.industryIdentifiers[0].type&&(n.children.field5.value=r.volumeInfo.industryIdentifiers[0].identifier),"ISBN_13"===r.volumeInfo.industryIdentifiers[1].type&&(n.children.field6.value=r.volumeInfo.industryIdentifiers[1].identifier),n.children.field14.value=r.volumeInfo.pageCount;var l=r.volumeInfo.printType.toLowerCase();l=l.charAt(0).toUpperCase()+l.slice(1),n.children.field0.value=l,n.children.field19.value=r.volumeInfo.infoLink;var i=void 0!==r.volumeInfo.imageLinks?r.volumeInfo.imageLinks.thumbnail:"";""!==i&&(n.children.imageType.value="Link",n.children.imageLink.value=i),n.children.field18.value=r.volumeInfo.language;var c="";if(void 0!==r.volumeInfo.categories){for(var f=0;f<r.volumeInfo.categories.length;f++)c=c+r.volumeInfo.categories[f]+", ";n.children.field8.value=c.substring(0,c.length-2)}e.setMyState({single:n})}).catch(function(t){var n=u({},e.state.forms.single);n.errors.push({class:"error",message:t}),e.setMyState({single:n})})}},{key:"selectLibraryAndType",value:function(e){var t=this,n=u({},this.state.forms.single),r=e.target.id,a=e.target.value;if("edit_library"===r&&(n.children.library.value=a),"edit_libraryType"===r&&(n.children.libraryType.value=a),this.setMyState({single:n}),n.children.library.value>0&&n.children.libraryType.value>0){var o={library:n.children.library.value,libraryType:n.children.libraryType.value,_token:n.children._token.value};Object(s.a)(n.action,{method:n.method,body:JSON.stringify(o)},!1).then(function(e){var r=n.errors;r=r.concat(e.errors),(n=e.form).errors=r,t.setMyState({single:u({},n)},Object(i.n)(n,{}),"General")}).catch(function(e){n.errors.push({class:"error",message:e}),t.setMyState({single:u({},n)},Object(i.n)(u({},n),{}))})}}},{key:"setMyState",value:function(e,t,n){void 0===t&&(t=this.state.panelErrors),void 0===n&&(n=this.state.selectedPanel),void 0!==e.forms&&(e=u({},e.forms)),this.setState({forms:e,panelErrors:t,selectedPanel:n})}},{key:"translate",value:function(e){return Object(i.o)(this.translations,e)}},{key:"onSelectTab",value:function(e){var t=this.state.selectedPanel,n=0;Object.keys(this.panels).map(function(r){n===e&&(t=r),n++}),this.setState({selectedPanel:t})}},{key:"deleteFile",value:function(e){var t=this,n="/resource/"+btoa(e.value)+"/"+this.actionRoute+"/delete/";void 0!==e.delete_security&&!1!==e.delete_security&&(n="/resource/"+btoa(e.value)+"/"+e.delete_security+"/delete/");var r=Object(i.g)(this.state.forms,e);Object(s.a)(n,{},!1).then(function(n){if("success"===n.status){var a=r.errors;a=a.concat(n.errors),r.errors=a,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),Object(i.c)(r,e,"")),t.singleForm))}else{var o=r.errors;o=o.concat(n.errors),r.errors=o,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))}}).catch(function(n){var a=r.errors;a.push({class:"error",message:n}),r.errors=a,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))})}},{key:"generateNewPassword",value:function(e){var t=Object(l.a)(e.generateButton.passwordPolicy),n=Object(i.g)(this.state.forms,e),r=e.id.replace("first","second");n=u({},Object(i.c)(n,e,t));var a=Object(i.f)(n,r,{});alert(e.generateButton.alertPrompt+": "+t),n=Object(i.c)(n,a,t),this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n)))}},{key:"onCKEditorChange",value:function(e,t,n){var r=t.getData();this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,n),Object(i.c)(Object(i.g)(this.state.forms,n),n,r))))}},{key:"onElementChange",value:function(e,t){var n=this,r=t.submit_on_change,a=Object(i.g)(this.state.forms,t),o=Object(i.h)(this.formNames,t);if("toggle"!==t.type){if("file"===t.type){var s=e.target.files[0],l=new FileReader;return l.readAsDataURL(s),l.onerror=function(e){a.errors.push({class:"error",message:n.functions.translations("A problem occurred loading the file.")}),n.setMyState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s)),n.singleForm))},void(l.onload=function(e){s=e.target.result,n.setMyState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s))))})}var c=e.target.value;t.value=c;var f=Object(i.c)(u({},a),t,c);this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,o,f),this.singleForm)),r&&this.submitForm({},t)}else{var m="Y"===t.value?"N":"Y";this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,o,Object(i.c)(a,t,m)),this.singleForm))}}},{key:"submitForm",value:function(e,t){var n=this,r=Object(i.h)(this.formNames,t);if(!this.submit[r]){this.submit[r]=!0;var a=u({},this.state.forms),o=u({},Object(i.g)(a,t)),l=Object(i.a)({},o);Object(s.a)(o.action,{method:o.method,body:JSON.stringify(l)},!1).then(function(e){if("redirect"===e.status)window.open(e.redirect,"_self");else{var t=o.errors;t=t.concat(e.errors);var s=u({},e.form);s.errors=t,n.submit[r]=!1,n.setMyState(Object(i.b)(u({},Object(i.j)(a,r,u({},s))),n.singleForm),Object(i.n)(u({},s),{}))}}).catch(function(e){o.errors.push({class:"error",message:e}),n.submit[r]=!1,n.setMyState(Object(i.b)(u({},Object(i.j)(a,r,u({},o))),n.singleForm),Object(i.n)(u({},t),{}))})}}},{key:"deleteElement",value:function(e){var t=this,n=Object(i.g)(this.state.forms,e),r=n;if(n=Object(i.d)(n,e),this.setMyState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n),this.singleForm)),"boolean"!=typeof e.never_saved){var a=e.id.replace("_"+e.name,""),o=Object(i.f)(n,a,{}),l=o.element_delete_route;"object"!==c(o.element_delete_options)&&(o.element_delete_options={});var f=!0;if(Object.keys(o.element_delete_options).map(function(t){var n=o.element_delete_options[t];l=l.replace(t,e.children[n].value),parseInt(e.children[n].value)<1&&(f=!1)}),!1===f)return;Object(s.a)(l,[],!1).then(function(a){var o=n.errors;o=o.concat(a.errors),n.errors=o,"success"===a.status?t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm)):t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),u({},r)),t.singleForm))}).catch(function(a){var o=(n=u({},r)).errors;o.push({class:"error",message:a}),n.errors=o,t.setMyState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm))})}}},{key:"addElement",value:function(e){var t=n("xk4V")(),r=u({},Object(i.m)(u({},e.prototype),t)),a=u({},Object(i.g)(this.state.forms,e)),o=Object(i.h)(this.formNames,e);if(r.children.id.value=t,"object"===c(e.children)){var s=[];Object.keys(e.children).map(function(t){s.push(u({},e.children[t]))}),e.children=s}void 0===e.children&&(e.children=[]),r.never_saved=!0,e.children.push(u({},r)),a=u({},Object(i.l)(a,e)),this.setMyState(Object(i.b)(u({},Object(i.j)(this.state.forms,o,a)),this.singleForm))}},{key:"render",value:function(){return a.a.createElement("section",null,Object(i.i)(this.submit)?a.a.createElement("div",{className:"waitOne info"},this.functions.translate("Let me ponder your request"),"..."):"",a.a.createElement(o.a,{panels:this.panels,selectedPanel:this.state.selectedPanel,functions:this.functions,forms:this.state.forms,actionRoute:this.actionRoute,singleForm:this.singleForm,translations:this.translations,panelErrors:this.state.panelErrors}))}}])&&f(p.prototype,b),y&&f(p,y),t}();p.defaultProps={functions:{},translations:{},forms:{}}},Ngpf:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("2B1R"),n("wLYn"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("PKPk"),n("3bBZ");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("AMWX"));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=c(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?u(r):a).otherProps=l({},e),n.extras=e.extras,n.functions={toggleSMSRows:n.toggleSMSRows.bind(u(n)),toggleMailerRows:n.toggleMailerRows.bind(u(n)),setParentState:n.setMyState.bind(u(n))},n.toggleSMSRowsOnValue=n.toggleSMSRowsOnValue.bind(u(n)),n.toggleMailerRowsOnValue=n.toggleMailerRowsOnValue.bind(u(n)),n.state={forms:e.forms},n}var n,m,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(m=[{key:"componentDidMount",value:function(){this.setMyState(l({},this.state.forms))}},{key:"setMyState",value:function(e){var t=e.SMS.children.smsSettings.children.Messenger__smsGateway.value;t=(e=this.toggleSMSRowsOnValue(t,l({},e)))["E-Mail"].children.emailSettings.children.System__enableMailerSMTP.value,e=this.toggleMailerRowsOnValue(t,e),this.setState({forms:l({},e)})}},{key:"toggleSMSRows",value:function(e,t){this.setMyState(this.toggleSMSRowsOnValue(e.target.value,l({},this.state.forms)))}},{key:"toggleMailerRows",value:function(e,t){this.setMyState(this.toggleMailerRowsOnValue(e.target.value,l({},this.state.forms)))}},{key:"toggleSMSRowsOnValue",value:function(e,t){""!==e&&null!==e&&"N"!==e||(e="No");var n=l({},t.SMS),r=this.extras[e],a=n.children.smsSettings;return a.children.Messenger__smsGateway.value=e,Object.keys(r).map(function(e){var t=r[e];a.children[e].row_style="hidden",!0===t.visible&&(a.children[e].row_style="standard",a.children[e].label=t.label,a.children[e].help=null,"string"==typeof t.help&&(a.children[e].help=t.help))}),n.children.smsSettings=a,t.SMS=n,t}},{key:"toggleMailerRowsOnValue",value:function(e,t){""!==e&&null!==e&&"N"!==e||(e="No"),"Y"===e&&(e="SMTP");var n=l({},t["E-Mail"]),r=this.extras.mailer[e],a=n.children.emailSettings;return a.children.System__enableMailerSMTP.value=e,Object.keys(r).map(function(e){var t=r[e];a.children[e].row_style="hidden",!0===t.visible&&(a.children[e].row_style="standard",a.children[e].label=t.label,a.children[e].help=null,"string"==typeof t.help&&(a.children[e].help=t.help))}),n.children.emailSettings=a,t["E-Mail"]=n,t}},{key:"render",value:function(){return a.a.createElement(o.a,l({},this.otherProps,{forms:this.state.forms,functions:this.functions}))}}])&&i(n.prototype,m),d&&i(n,d),t}()},RrZK:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("4mDm"),n("2B1R"),n("wLYn"),n("sMBO"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("4l63"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("r3Yy")),s=n("J5mc"),l=n("VAT+"),i=n("koSi");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=m(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?d(r):a).panels=e.panels?e.panels:{},n.content=e.content?e.content:null,n.functions=e.functions,n.translations=e.translations,n.actionRoute=e.actionRoute,0===Object.keys(n.panels).length&&null!==n.content&&(n.panels.default={},n.panels.default.name="default",n.panels.default.disabled=!0,n.panels.default.content=n.content),n.functions={translate:n.translate.bind(d(n)),openUrl:i.k.bind(d(n)),downloadFile:i.e.bind(d(n)),onSelectTab:n.onSelectTab.bind(d(n)),deleteFile:n.deleteFile.bind(d(n)),submitForm:n.submitForm.bind(d(n)),onElementChange:n.onElementChange.bind(d(n)),deleteElement:n.deleteElement.bind(d(n)),addElement:n.addElement.bind(d(n)),onCKEditorChange:n.onCKEditorChange.bind(d(n)),generateNewPassword:n.generateNewPassword.bind(d(n)),manageLinkOrFile:n.manageLinkOrFile.bind(d(n))},n.state={selectedPanel:e.selectedPanel,forms:u({},e.forms),panelErrors:{}},n.formNames={},n.submit={},n.singleForm=1===Object.keys(e.forms).length,console.log(n.state),n}var p,b,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),p=t,(b=[{key:"componentDidMount",value:function(){var e=this;Object.keys(this.state.forms).map(function(t){var n=e.state.forms[t];e.formNames[n.name]=t,e.submit[n.name]=!1});var t={};this.singleForm&&(t=Object(i.n)({},t)),this.manageURLTypes(u({},this.state.forms.single),t)}},{key:"setMyState",value:function(e,t){this.manageURLTypes(u({},e.single),t)}},{key:"manageURLTypes",value:function(e,t){e.children.resources.children.map(function(t,n){"File"===t.children.type.value?e.children.resources.children[n].children.url.type="file":(e.children.resources.children[n].children.url.type="url",e.children.resources.children[n].children.type.value="Link")}),this.setState({forms:{single:e},panelErrors:t})}},{key:"translate",value:function(e){return Object(i.o)(this.translations,e)}},{key:"onSelectTab",value:function(e){var t=this.state.selectedPanel,n=0;Object.keys(this.panels).map(function(r){n===e&&(t=r),n++}),this.setState({selectedPanel:t})}},{key:"deleteFile",value:function(e){var t=this,n="/resource/"+btoa(e.value)+"/"+this.actionRoute+"/delete/";void 0!==e.delete_security&&!1!==e.delete_security&&(n="/resource/"+btoa(e.value)+"/"+e.delete_security+"/delete/");var r=Object(i.g)(this.state.forms,e);Object(s.a)(n,{},!1).then(function(n){if("success"===n.status){var a=r.errors;a=a.concat(n.errors),r.errors=a,t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),Object(i.c)(r,e,"")),t.singleForm))}else{var o=r.errors;o=o.concat(n.errors),r.errors=o,t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))}}).catch(function(n){var a=r.errors;a.push({class:"error",message:n}),r.errors=a,t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),r),t.singleForm))})}},{key:"generateNewPassword",value:function(e){var t=Object(l.a)(e.generateButton.passwordPolicy),n=Object(i.g)(this.state.forms,e),r=e.id.replace("first","second");n=u({},Object(i.c)(n,e,t));var a=Object(i.f)(n,r,{});alert(e.generateButton.alertPrompt+": "+t),n=Object(i.c)(n,a,t),this.setState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n)))}},{key:"onCKEditorChange",value:function(e,t,n){var r=t.getData();this.setState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,n),Object(i.c)(Object(i.g)(this.state.forms,n),n,r))))}},{key:"onElementChange",value:function(e,t){var n=this,r=t.submit_on_change,a=Object(i.g)(this.state.forms,t),o=Object(i.h)(this.formNames,t);if("toggle"!==t.type){if("file"===t.type){var s=e.target.files[0],l=new FileReader;return l.readAsDataURL(s),l.onerror=function(e){a.errors.push({class:"error",message:n.functions.translations("A problem occurred loading the file.")}),n.setState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s)),n.singleForm))},void(l.onload=function(e){s=e.target.result,n.setState(Object(i.b)(Object(i.j)(n.state.forms,o,Object(i.c)(a,t,s))))})}var c=e.target.value;t.value=c;var f=Object(i.c)(u({},a),t,c);this.setState(Object(i.b)(Object(i.j)(this.state.forms,o,f),this.singleForm)),r&&this.submitForm({},t)}else{var m="Y"===t.value?"N":"Y";this.setState(Object(i.b)(Object(i.j)(this.state.forms,o,Object(i.c)(a,t,m)),this.singleForm))}}},{key:"submitForm",value:function(e,t){var n=this,r=Object(i.h)(this.formNames,t);if(!this.submit[r]){this.submit[r]=!0,this.setState(Object(i.b)(u({},this.state.forms),this.singleForm));var a=u({},Object(i.g)(this.state.forms,t)),o=Object(i.a)({},a);Object(s.a)(a.action,{method:a.method,body:JSON.stringify(o)},!1).then(function(e){if("redirect"===e.status)window.open(e.redirect,"_self");else{var t=a.errors;t=t.concat(e.errors);var o="function"==typeof n.functions.submitFormCallable?n.functions.submitFormCallable(e.form):e.form;o.errors=t,n.submit[r]=!1,n.setState(Object(i.b)(u({},Object(i.j)(n.state.forms,r,u({},o))),n.singleForm))}}).catch(function(e){a.errors.push({class:"error",message:e}),n.submit[r]=!1,n.setState(Object(i.b)(u({},Object(i.j)(n.state.forms,r,u({},a))),n.singleForm))})}}},{key:"deleteElement",value:function(e){var t=this,n=Object(i.g)(this.state.forms,e),r=n;if(n=Object(i.d)(n,e),this.setState(Object(i.b)(Object(i.j)(this.state.forms,Object(i.h)(this.formNames,e),n),this.singleForm)),"boolean"!=typeof e.never_saved){var a=e.id.replace("_"+e.name,""),o=Object(i.f)(n,a,{}),l=o.element_delete_route;"object"!==c(o.element_delete_options)&&(o.element_delete_options={});var f=!0;if(Object.keys(o.element_delete_options).map(function(t){var n=o.element_delete_options[t];l=l.replace(t,e.children[n].value),parseInt(e.children[n].value)<1&&(f=!1)}),!1===f)return;Object(s.a)(l,[],!1).then(function(a){var o=n.errors;o=o.concat(a.errors),n.errors=o,"success"===a.status?("function"==typeof t.functions.deleteElementCallable&&(e=t.functions.deleteElementCallable(a,e)),t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm))):t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),u({},r)),t.singleForm))}).catch(function(a){var o=(n=u({},r)).errors;o.push({class:"error",message:a}),n.errors=o,t.setState(Object(i.b)(Object(i.j)(t.state.forms,Object(i.h)(t.formNames,e),n),t.singleForm))})}}},{key:"addElement",value:function(e){var t=n("xk4V")(),r=u({},Object(i.m)(u({},e.prototype),t)),a=u({},Object(i.g)(this.state.forms,e)),o=Object(i.h)(this.formNames,e);if(r.children.id.value=t,"object"===c(e.children)){var s=[];Object.keys(e.children).map(function(t){s.push(u({},e.children[t]))}),e.children=s}void 0===e.children?e.children=[]:(r.children.type.value="Link",r.children.url.type="url",r.children.department.value=this.state.forms.single.children.id.value),r.never_saved=!0,e.children.push(u({},r)),a=u({},Object(i.l)(a,e)),this.setState(Object(i.b)(u({},Object(i.j)(this.state.forms,o,a)),this.singleForm))}},{key:"manageLinkOrFile",value:function(e,t){var n=t.id.replace("department_edit_resources_","");n=n.replace("_type","");var r={},a=null,o=u({},this.state.forms.single);o.children.resources.children.map(function(e,t){n===e.name&&(r=e,a=t)}),"File"===e.target.value?(r.children.url.type="file",r.children.type.value="File"):(r.children.url.type="url",r.children.type.value="Link"),o.children.resources.children[a]=r,this.setMyState({single:o})}},{key:"render",value:function(){return a.a.createElement("section",null,Object(i.i)(this.submit)?a.a.createElement("div",{className:"waitOne info"},this.functions.translate("Let me ponder your request"),"..."):"",a.a.createElement(o.a,{panels:this.panels,selectedPanel:this.state.selectedPanel,functions:this.functions,forms:this.state.forms,actionRoute:this.actionRoute,singleForm:this.singleForm,translations:this.translations,panelErrors:this.state.panelErrors}))}}])&&f(p.prototype,b),y&&f(p,y),t}();p.defaultProps={functions:{},translations:{},forms:{}}},"VAT+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("TWNs"),n("rB9j"),n("JfAA");function r(e){var t="abcdefghijklmnopqrstuvwxyz";t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t+="0123456789",t+="#?!@$%^+=&*-";var n="^(.*(?=.*[a-z])";e.alpha&&(n+="(?=.*[A-Z])"),e.numeric&&(n+="(?=.*[0-9])"),e.punctuation&&(n+="(?=.*?[#?!@$%^+=&*-])"),n+=".*){"+e.minLength+",}$",n=new RegExp(n);for(var r=e.minLength<12?12:e.minLength,a="",o=0;o<r;o++)a+=t.charAt(Math.floor(Math.random()*t.length));for(;!1===n.test(a);){a="";for(var s=0;s<r;s++)a+=t.charAt(Math.floor(Math.random()*t.length))}return a}},koSi:function(e,t,n){"use strict";n.d(t,"n",function(){return l}),n.d(t,"o",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return b}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"f",function(){return j}),n.d(t,"a",function(){return O});n("pNMO"),n("4Brf"),n("0oug"),n("yXV3"),n("4mDm"),n("2B1R"),n("pDQq"),n("sMBO"),n("zKZe"),n("tkto"),n("07d7"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("7K2e"),a=n("ohO+");n("J5mc");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){return void 0===e.children?t:(Object.keys(e.children).map(function(n){var r=e.children[n];l(r,t),Object.keys(r.errors).length>0&&!1!==r.panel&&(void 0===t[r.panel]&&(t[r.panel]={}),t[r.panel].problem=!0)}),t)}function i(e,t){return Object(r.a)(e[t])?(console.error("Unable to translate: "+t),t):e[t]}function c(e){var t=e.value,n="/resource/"+btoa(t)+"/"+this.actionRoute+"/download/";void 0!==e.delete_security&&!1!==e.delete_security&&(n="/resource/"+btoa(e.value)+"/"+e.delete_security+"/download/"),Object(a.a)(n,{target:"_blank"},!1)}function u(e){window.open(e,"_blank")}function f(e,t){var n={};return t&&(n=l(e[Object.keys(e)[0]],n)),{forms:e,panelErrors:n}}function m(e,t){var n={};return Object.keys(e).map(function(t){var r=e[t];n[r.name]=t}),e[d(n,t)]}function d(e,t){return e[t.full_name.substring(0,t.full_name.indexOf("["))]}function h(e,t,n){return e[t]=s({},n),e}function p(e,t){return"object"===o(e.children)?Object.keys(e.children).map(function(n){p(e.children[n],t).id===t.id&&(e.children[n]=t)}):"array"==typeof e.children&&e.children.map(function(n,r){(n=p(n,t)).id===t.id&&(e.children[r]=t)}),e.id===t.id&&(e=t),e}function b(e,t){return"object"===o((e=s({},e)).children)&&(e.children=s({},e.children),Object.keys(e.children).map(function(n){var r=b(e.children[n],t);e.children[n]=r})),e.name=e.name.replace("__name__",t),e.id=e.id.replace("__name__",t),e.full_name=e.full_name.replace("__name__",t),"string"==typeof e.label&&(e.label=e.label.replace("__name__",t)),e}function y(e,t){return"object"===o(e.children)&&Object.keys(e.children).map(function(n){y(e.children[n],t).id===t.id&&delete e.children[n]}),"array"==typeof e.children&&e.children.map(function(n,r){(n=y(n,t)).id===t.id&&e.children.splice(r,1)}),e}function v(e,t,n){var r=s({},e);if("object"===o(r.children)&&Object.keys(r.children).length>0){var a=s({},r.children);return Object.keys(a).map(function(e){var r=s({},a[e]);r.id===t.id?(r.value=n,Object.assign(a[e],s({},r))):Object.assign(a[e],v(s({},r),t,n))}),Object.assign(r.children,s({},a)),s({},r)}return s({},r)}function g(e){var t=!1;return Object.keys(e).map(function(n){e[n]&&(t=!0)}),t}function j(e,t,n){return"string"==typeof n.id&&n.id===t?n:"object"===o(e.children)?(Object.keys(e.children).map(function(r){var a=e.children[r];a.id===t&&(n=a),n=j(e.children[r],t,n)}),n):"array"==typeof e.children?(e.children.map(function(e,r){e.id===t&&(n=e),n=j(e,t,n)}),n):n}function O(e,t){return"object"===o(t.children)&&Object.keys(t.children).length>0?(Object.keys(t.children).map(function(n){var r=t.children[n];e[r.name]=O({},r)}),e):"array"==typeof t.children&&t.children.length>0?(t.children.map(function(t){e[t.name]=O({},t)}),e):t.value}},"nXi/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("2B1R"),n("wLYn"),n("sMBO"),n("zKZe"),n("uL8W"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC"),n("07d7"),n("rB9j"),n("PKPk"),n("UxlC"),n("3bBZ");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("AMWX"));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=c(t).call(this,e))||"object"!==s(a)&&"function"!=typeof a?u(r):a).otherProps=l({},e),n.extras=e.extras,n.functions={toggleScopeType:n.toggleScopeType.bind(u(n)),setParentState:n.setMyState.bind(u(n)),addElementCallable:n.addElement.bind(u(n))},n.state={forms:e.forms},n}var n,m,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(m=[{key:"componentDidMount",value:function(){this.setMyState(l({},this.state.forms))}},{key:"setMyState",value:function(e){var t=this,n=e.single.children.listeners.children,r=[];"object"!==s(n)&&(n=[]),Object.keys(n).map(function(e){var a=l({},n[e]);r=t.setListenerChildByScope(n,e,a.children.scopeType.value)}),e.single.children.listeners.children=r,this.setState({forms:l({},e)})}},{key:"toggleScopeType",value:function(e,t){var n=e.target.value,r=this.state.forms.single.children.listeners.children,a=t.id.replace("notification_event_listeners_","").replace("_scopeType",""),o="jjj";Object.keys(r).map(function(e){r[e].name===a&&(o=e)}),r=this.setListenerChildByScope(r,o,n);var s=this.state.forms;s.single.children.listeners.children=r,this.setMyState(s)}},{key:"addElement",value:function(e){return e.children.scopeType.value="All",e.children.person.value="",e.children.scopeID.type="display",e.children.scopeID.value="",e.children.event.value=this.state.forms.single.children.id.value,1===Object.keys(e.children.scopeType.choices).length?(e.children.scopeType.type="display",e.children.scopeType.value="All"):(e.children.scopeType.type="choice",e.children.scopeType.value="All"),e}},{key:"setListenerChildByScope",value:function(e,t,n){var r=e[t];return r.children.scopeType.value=n,("All"===n||""===n)&&(r.children.scopeID.type="display",r.children.scopeID.value="",1===Object.keys(r.children.scopeType.choices).length?(r.children.scopeType.type="display",r.children.scopeType.value="All"):r.children.scopeType.type="choice"),r.children.scopeID.placeholder=r.children.person.placeholder,"gibbonPersonIDStudent"===n&&(r.children.scopeID.type="choice",r.children.scopeID.choices=this.extras.students),"gibbonYearGroupID"===n&&(r.children.scopeID.type="choice",r.children.scopeID.choices=this.extras.yearGroups),"gibbonStaffID"===n&&(r.children.scopeID.type="choice",r.children.scopeID.choices=this.extras.staff),e[t]=r,e}},{key:"render",value:function(){return a.a.createElement(o.a,l({},this.otherProps,{forms:this.state.forms,functions:this.functions}))}}])&&i(n.prototype,m),d&&i(n,d),t}()},"ohO+":function(e,t,n){"use strict";function r(e,t,n){var r="_self";t&&"string"==typeof t.target&&(r=t.target);var a="";t&&"string"==typeof t.specs&&(a=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en_GB"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,r,a)}n.d(t,"a",function(){return r})},r3Yy:function(e,t,n){"use strict";n("zKZe"),n("tkto");var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("76ZC")),s=n.n(o),l=(n("2B1R"),n("sMBO"),n("GTV5"));n("Bcp6"),n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("07d7"),n("PKPk"),n("3bBZ");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n={};return n.className=t,null!==e.row_class&&(n.className=e.row_class),!1!==e.row_id&&(n.id=e.row_id),n}function u(e,t){var n=!1===e.column_attr?{}:e.column_attr;return void 0!==n.class&&(n.className=n.class,delete n.class),void 0===n.className&&(n.className=t),n}function f(e,t,n){var r="object"!==i(e.attr)?{}:e.attr;return void 0!==r.class&&(r.className=r.class,delete r.class),void 0===r.className&&(r.className=t),r.id=e.id,r.name=e.full_name,r.onChange=null,!1===e.on_change&&"function"==typeof n.onElementChange?r.onChange=function(t){return n.onElementChange(t,e)}:"function"==typeof n[e.on_change]&&(r.onChange=function(t){return n[e.on_change](t,e)}),r.onClick=null,!1===e.on_click&&"function"==typeof n.onElementClick?r.onClick=function(t){return n.onElementClick(t,e)}:"function"==typeof n[e.on_click]&&(r.onClick=function(t){return n[e.on_click](t,e)}),!1!==e.multiple&&(r.multiple=!0),"string"==typeof r.inputmode&&(r.inputMode=r.inputmode,delete r.inputmode),r["aria-describedby"]=e.id+"_help",r}function m(e,t){var n={};return n.className=t,null!==e.wrapper_class&&(n.className=e.wrapper_class),n}function d(e){var t=e.form,n=(e.functions,e.columns),r=c(t,"break flex flex-col sm:flex-row justify-between content-center p-0"),o=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");n>1&&(o.colSpan=n);var l=a.a.createElement("h3",null,t.label);"h4"===t.header_type&&(l=a.a.createElement("h4",null,t.label));var i="";return"string"==typeof t.help&&(i=t.help),a.a.createElement("tr",r,a.a.createElement("td",o,l,s()(i)))}function h(e){var t=e.form,n=(e.functions,e.columns),r=c(t,"break flex flex-col sm:flex-row justify-between content-center p-0"),o=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");n>1&&(o.colSpan=n);var l=m(t,"");return a.a.createElement("tr",r,a.a.createElement("td",o,a.a.createElement("div",l,s()(t.help))))}var p=n("AEIT"),b=n.n(p),y=n("+z1p"),v=n.n(y);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){var t=e.form,n=e.functions;if(!1===t.header_row)return null;var r=g({},t.prototype);if(!0===t.header_row){var o=Object.keys(r.children).map(function(e){var t=r.children[e];if("hidden"!==t.type)return"string"==typeof t.help?a.a.createElement("th",{className:"text-xxs sm:text-xs p-2 sm:py-3",key:t.name},t.label,a.a.createElement("br",null),a.a.createElement("span",{className:"text-gray-500 xs emphasis"},t.help)):a.a.createElement("th",{className:"text-xxs sm:text-xs p-2 sm:py-3",key:t.name},t.label)});return o.push(a.a.createElement("th",{className:"shortWidth text-xxs sm:text-xs p-2 sm:py-3 text-center",key:"actions"},n.translate("Actions"))),a.a.createElement("thead",null,a.a.createElement("tr",null,o))}if("array"==typeof t.header_row){var s=t.header_row.map(function(e,t){return"string"==typeof e.help?a.a.createElement("th",g({},e.attr,{key:e.name}),e.label,a.a.createElement("br",null),a.a.createElement("span",{className:"text-gray-500 small"},e.help)):a.a.createElement("th",g({},e.attr,{key:e.name}),e.label)});return a.a.createElement("thead",null,a.a.createElement("tr",null,s))}}n("pDQq"),n("wLYn"),n("uL8W"),n("eoL8"),n("NBAS"),n("ExoC");function O(e){var t=e.message,n=e.cancelMessage,r=e.translate;return"string"==typeof t.message?a.a.createElement("div",{className:t.class},t.message,a.a.createElement("button",{className:"button close "+t.class,onClick:function(){return n(t.id)},title:r("Close Message"),type:"button"},a.a.createElement("span",{className:"fas fa-times-circle fa-fw "+t.class}))):(console.log(t),null)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=S(t).call(this,e))||"object"!==E(a)&&"function"!=typeof a?_(r):a).translate=e.translate,n.cancelMessage=n.cancelMessage.bind(_(n)),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r["Component"]),n=t,(o=[{key:"cancelMessage",value:function(e){var t=this.props.messages;t.splice(e,1),this.setState({messages:t})}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.messages).map(function(t){var n=e.props.messages[t];if(void 0===n)return"";if("string"==typeof n){var r={};r.message=n,r.class="error",r.id=t,n=w({},r)}return n.id=t,a.a.createElement(O,{message:n,translate:e.translate,key:"message_"+n.id,cancelMessage:e.cancelMessage})});return 0===t.length?null:a.a.createElement("div",null,t)}}])&&k(n.prototype,o),s&&k(n,s),t}();function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e){var t=e.form,n=e.functions,r=e.columnCount,o=f(t,"leftIndent smallIntBorder standardForm striped",{});delete o.name;var s=t.errors,l=a.a.createElement(j,{form:t,functions:n}),i=[];return Object.keys(s).length>0&&i.push(a.a.createElement("tr",{key:"errors"},a.a.createElement("td",{colSpan:r},a.a.createElement("div",{className:"errors flex-1 relative"},s)))),void 0!==t.children&&Object.keys(t.children).length>0?Object.keys(t.children).map(function(e){var r=t.children[e],o=[],s=[];Object.keys(r.children).map(function(e){var t=r.children[e];"hidden"!==t.type?o.push(a.a.createElement("td",{key:e},a.a.createElement(L,{form:M({},t),functions:n}))):s.push(a.a.createElement(L,{form:M({},t),functions:n,key:e}))});var l=[];t.allow_delete&&l.push(a.a.createElement("button",{title:n.translate("Delete"),onClick:function(){return n.deleteElement(r)},className:"button text-gray-800",type:"button",key:"one"},a.a.createElement("span",{className:"far fa-trash-alt fa-fw"}))),o.push(a.a.createElement("td",{key:"actions"},s,a.a.createElement("div",{className:"text-center"},l))),i.push(a.a.createElement("tr",{key:e},o))}):i.push(a.a.createElement("tr",{key:"emptyWarning"},a.a.createElement("td",{colSpan:r},a.a.createElement("div",{className:"warning"},n.translate("There are no records to display."))))),i.push(a.a.createElement("tr",{key:"addRow"},a.a.createElement("td",{colSpan:r-1}),a.a.createElement("td",null,a.a.createElement("div",{className:"text-center"},a.a.createElement("button",{title:n.translate("Add"),onClick:function(){return n.addElement(t)},className:"button text-gray-800",type:"button",key:"one"},a.a.createElement("span",{className:"fas fa-plus-circle fa-fw"})))))),a.a.createElement("div",{className:"collection"},a.a.createElement(P,{messages:s,translate:n.translate}),a.a.createElement("table",o,l,a.a.createElement("tbody",null,i)))}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){var t=e.functions,n=e.form,r=0,o=F({},n.prototype);return Object.keys(o.children).map(function(e){"hidden"!==o.children[e].type&&r++}),r++,a.a.createElement(x,{form:n,functions:t,columnCount:r,key:n.collection_key})}x.defaultProps={errors:[]};var T=n("7K2e");function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e){var t=e.form,n=e.wrapper_attr,r=e.widget_attr,o=e.errors,s=[];return void 0!==t.placeholder&&!1!==t.placeholder&&s.push(a.a.createElement("option",{key:"placeholder",className:"text-gray-500"},t.placeholder)),Object.keys(t.choices).map(function(e){if(void 0===t.choices[e].choices)s.push(a.a.createElement("option",{value:t.choices[e].value,key:t.choices[e].value},t.choices[e].label));else{var n=t.choices[e].label,r=[];Object.keys(t.choices[e].choices).map(function(n){r.push(a.a.createElement("option",{value:t.choices[e].choices[n].value,key:t.choices[e].choices[n].value},t.choices[e].choices[n].label))}),s.push(a.a.createElement("optgroup",{key:n,label:n},r))}}),a.a.createElement("div",n,a.a.createElement("select",B({multiple:t.multiple},r,{value:t.value}),s),o)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e){var t=e.form,n=e.functions,r=m(t,"flex-1 relative"),o="form element "+t.type,s=f(t,"w-full",n),l=[];if(t.errors.length>0&&(r.className+=" errors",l=t.errors.map(function(e,t){return a.a.createElement("li",{key:t},e)})),"ckeditor"===t.type)return a.a.createElement("div",r,a.a.createElement(b.a,{editor:v.a,data:t.value,"aria-describedby":t.id+"_help",onChange:function(e,r){return n.onCKEditorChange(e,r,t)}}),t.errors.length>0?a.a.createElement("ul",null,l):"");if("submit"===t.type)return s.type="button",s.style={float:"right"},s.className="btn-gibbon",s.onClick=function(e){return n.submitForm(e,t)},a.a.createElement("div",r,a.a.createElement("span",{className:"emphasis small"},"* ",t.help),a.a.createElement("button",s,t.label));if("button"===t.type)return s.type="button",s.style={float:"right"},s.className="btn-gibbon",a.a.createElement("div",r,a.a.createElement("button",s,t.label));if("hidden"===t.type)return s.type="hidden",a.a.createElement("input",s);if("email"===t.type)return s.type="email",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"");if("password_generator"===t.type){s.type="password";return a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),a.a.createElement("button",I({type:"button",title:t.generateButton.title,className:t.generateButton.class},{},{onClick:function(){return n[t.generateButton.onClick](t)}}),t.generateButton.title),t.errors.length>0?a.a.createElement("ul",null,l):"")}if("password"===t.type)return s.type="password",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"");if("url"===t.type){s.type="url";var i={};return Object(T.a)(t.value)&&(i.disabled=!0),a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),a.a.createElement("button",I({type:"button",title:n.translate("Open Link"),className:"button button-right"},i,{onClick:function(){return n.openUrl(t.value)}}),a.a.createElement("span",{className:"fa-fw fas fa-external-link-alt"})),t.errors.length>0?a.a.createElement("ul",null,l):"")}if("file"===t.type){s.type="file";var c={};return Object(T.a)(t.value)&&(c.disabled=!0),a.a.createElement("div",r,a.a.createElement("input",s),a.a.createElement("div",{className:"button-right"},a.a.createElement("button",I({type:"button",title:n.translate("File Download"),className:"button"},c,{onClick:function(){return n.downloadFile(t)}}),a.a.createElement("span",{className:"fa-fw fas fa-file-download"})),a.a.createElement("button",I({type:"button",title:n.translate("File Delete"),className:"button"},c,{onClick:function(){return n.deleteFile(t)}}),a.a.createElement("span",{className:"fa-fw fas fa-trash"}))),t.errors.length>0?a.a.createElement("ul",null,l):"")}if("date"===t.type)return s.type="date",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"");if("text"===t.type)return s.type="text",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"");if("collection"===t.type)return void 0===t.children&&(t.children=[]),a.a.createElement(C,{form:t,functions:n,key:t.collection_key});if("choice"===t.type)return a.a.createElement(R,{form:t,wrapper_attr:r,widget_attr:s,errors:l});if("textarea"===t.type)return a.a.createElement("div",r,a.a.createElement("textarea",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"");if("toggle"===t.type){s.type="hidden",r.className+=" right";var u={onClick:function(e){return n.onElementChange(e,t)},className:"button"};delete s.onChange;var d={className:"fa-fw far fa-thumbs-down"};return"Y"===t.value||"1"===t.value?(d.className="fa-fw far fa-thumbs-up",u.className+=" success",t.value="Y"):t.value="N",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),a.a.createElement("button",I({type:"button",title:n.translate("Yes/No")},u),a.a.createElement("span",d)),t.errors.length>0?a.a.createElement("ul",null,l):"")}return"integer"===t.type?(s.type="number",a.a.createElement("div",r,a.a.createElement("input",I({},s,{defaultValue:t.value})),t.errors.length>0?a.a.createElement("ul",null,l):"")):"display"===t.type?a.a.createElement("div",r,t.value,t.errors.length>0?a.a.createElement("ul",null,l):""):(console.log(t),a.a.createElement("div",r,o))}function D(e){var t=e.form,n=e.functions,r=e.columns;!1===t.column_attr&&r>1&&(t.column_attr={}),r>1&&(t.column_attr.colSpan=r);var o=c(t,"flex flex-col sm:flex-row justify-between content-center p-0"),s=u(t,"flex-grow justify-center px-2 border-b-0 sm:border-b border-t-0");return a.a.createElement("tr",o,a.a.createElement("td",s,a.a.createElement(L,{form:t,functions:n})))}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e){var t=e.form,n=[],r=function(e,t){var n={};return n.className=t,n}(0,"inline-block mt-4 sm:my-1 sm:max-w-xs font-bold text-sm sm:text-xs");"string"==typeof t.help&&(n.push(a.a.createElement("br",{key:"newLine"})),n.push(a.a.createElement("span",{key:"message",className:"text-xxs text-gray-600 italic font-normal mt-1 sm:mt-0"},s()(t.help))));var o="";return!0===t.required&&(o=" *"),a.a.createElement("label",A({htmlFor:t.id},r),t.label,o,n)}function V(e){var t=e.form,n=e.functions;return a.a.createElement("tr",{className:"flex flex-col sm:flex-row justify-between content-center p-0"},a.a.createElement("td",{className:"flex flex-col flex-grow justify-center -mb-1 sm:mb-0  px-2 border-b-0 sm:border-b border-t-0"},a.a.createElement(K,{form:t})),a.a.createElement("td",{className:"w-full max-w-full sm:max-w-xs flex justify-end items-center px-2 border-b-0 sm:border-b border-t-0"},a.a.createElement(L,{form:t,functions:n})))}function Y(e){var t=e.form,n=e.functions,r=e.columns;return t.columns=r,"hidden"===t.type&&"hidden"!==t.row_style&&(t.row_style="hidden"),"header"===t.type?a.a.createElement(d,{form:t,functions:n,columns:r}):"paragraph"===t.type?a.a.createElement(h,{form:t,functions:n,columns:r}):"single"===t.row_style||"submit"===t.type?a.a.createElement(D,{form:t,functions:n,columns:r}):"hidden"===t.row_style?a.a.createElement("tr",{style:{display:"none"}},a.a.createElement("td",null,a.a.createElement(L,{form:t,functions:n}))):"standard"===t.row_style?a.a.createElement(V,{form:t,functions:n}):"transparent"===t.row_style||"repeated"===t.row_style?Object.keys(t.children).map(function(e){var o=t.children[e];return"password_generator"===o.type&&"second"===e&&(o.type="password"),a.a.createElement(Y,{form:o,key:o.name,functions:n,columns:r})}):(console.log(t),a.a.createElement("tr",null,a.a.createElement("td",null," Form Row ",t.row_style)))}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e){var t=e.functions,n=e.form,r=e.formName,o=e.singleForm;if("table"===n.template){var s=[];Object.keys(n.children).map(function(e){var o=n.children[e];!1!==o.panel&&o.panel!==r||s.push(a.a.createElement(Y,{key:e,form:o,functions:t,columns:n.columns}))});for(var l=[],i=0;i<l;i++)l.push(a.a.createElement("td",{key:i}));var c=a.a.createElement("tr",{style:{display:"none"}},l),u={className:"smallIntBorder fullWidth standardForm relative"};return null!==n.row_class&&(u.className=n.row_class),o?a.a.createElement("div",null,a.a.createElement(P,{messages:n.errors,translate:t.translate}),a.a.createElement("table",u,a.a.createElement("tbody",null,c,s))):a.a.createElement("form",Z({action:n.action,id:n.id},n.attr,{method:void 0!==n.method?n.method:"POST"}),a.a.createElement(P,{messages:n.errors,translate:t.translate}),a.a.createElement("table",u,a.a.createElement("tbody",null,c,s)))}return null}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e){var t=e.panels,n=e.selectedIndex,r=e.functions,o=e.singleForm,i=e.translations,c=e.panelErrors,u=Object.keys(t).map(function(e){var n=t[e],r=void 0!==c[e]?"text-red-400":"",o=void 0!==c[e]?i["Errors on Tab"]:"";return a.a.createElement(l.a,{key:n.name,disabled:n.disabled},a.a.createElement("span",{className:r,title:o},n.label))}),f=Object.keys(t).map(function(n){var r=function(e,t){if(null!==e.content)return s()(e.content);var n=t.forms[e.name];void 0===n&&(n=t.forms[Object.keys(t.forms)[0]]);return a.a.createElement(J,U({},t,{formName:e.name,form:n}))}(t[n],e);return a.a.createElement(l.c,{key:n},r)});if(o){var m=e.forms[Object.keys(e.forms)[0]];return a.a.createElement("form",U({action:m.action,id:m.id},m.attr,{method:void 0!==m.method?m.method:"POST"}),a.a.createElement("div",{className:"info"},i["All fields on all panels are saved together."]),a.a.createElement(l.d,{selectedIndex:n,onSelect:function(e){return r.onSelectTab(e)}},a.a.createElement(l.b,null,u),f))}return a.a.createElement(l.d,{selectedIndex:n,onSelect:function(e){return r.onSelectTab(e)}},a.a.createElement(l.b,null,u),f)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){var t=e.panels,n=e.forms,r=e.selectedPanel,o=e.functions,l=e.singleForm,i=t[r].index;if(1===Object.keys(t).length){var c=Object.keys(t)[0],u=t[c];return null!==u.content?s()(u.content):a.a.createElement(J,W({},e,{form:n[c],functions:o,formName:c,singleForm:l}))}return a.a.createElement(q,W({},e,{panels:t,selectedIndex:i,functions:o,singleForm:l}))}R.defaultProps={errors:[]},n.d(t,"a",function(){return G})},vSyi:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("i8i4"),s=n("AMWX"),l={};l.DepartmentEdit=n("RrZK").default,l.ThirdParty=n("Ngpf").default,l.NotificationEvent=n("nXi/").default,l.LibraryApp=n("JlTO").default;var i=l;if("undefined"!==window.CONTAINER_PROPS){var c=window.CONTAINER_PROPS;for(var u in c){var f=c[u],m=document.getElementById(f.target);if(null!==f.application&&void 0!==i[f.application]&&null!==m){var d=i[f.application];Object(o.render)(a.a.createElement(d,{content:f.content,panels:f.panels,selectedPanel:f.selectedPanel,translations:f.translations,actionRoute:f.actionRoute,forms:f.forms,extras:f.extras}),m)}else null!==m&&Object(o.render)(a.a.createElement(s.a,{content:f.content,panels:f.panels,selectedPanel:f.selectedPanel,actionRoute:f.actionRoute,translations:f.translations,forms:f.forms}),m)}}}},[["vSyi","runtime",0,2]]]);