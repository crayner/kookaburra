(window.webpackJsonp=window.webpackJsonp||[]).push([["collections"],{"/LQ3":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("i8i4"),o=(a("pNMO"),a("4Brf"),a("0oug"),a("4mDm"),a("2B1R"),a("wLYn"),a("sMBO"),a("zKZe"),a("uL8W"),a("eoL8"),a("NBAS"),a("tkto"),a("ExoC"),a("07d7"),a("rB9j"),a("PKPk"),a("UxlC"),a("3bBZ"),a("yq1k"),a("JTJg"),a("17x9")),i=a.n(o);function c(e){e.template;var t=e.formData,a=e.defaults,n=(e.elementKey,""),l=a.help.class;return null!==t.help&&(t.help_attr.length>0&&void 0!==t.help_attr.class&&(l=t.help_attr.class),n=r.a.createElement("span",{className:l},r.a.createElement("br",null),form.help)),l=a.label.class,t.label_attr.length>0&&void 0!==t.attr.class&&(l=t.attr.class),r.a.createElement("label",{htmlFor:t.id,className:l},t.label,t.required?" *":"",n)}function s(e){var t=e.template,a=e.form,n=e.defaults;if(0===a.errors.length)return null;console.log(t),console.log(a),console.log(n),alert(a.errors)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){var t=e.template,a=e.form,n=e.defaults,l=e.onChange,o=e.onClick,i=e.formData,c=i.value;if("file"===t.type){var s=c;c=""}var p={};void 0!==a.attr.style&&"object"===u(a.attr.style)&&(p=a.attr.style);var f=n.input.class;null!==i.class&&(f=i.class);var m=r.a.createElement("input",{type:t.type,className:f,defaultValue:c,id:i.id,name:i.full_name,style:p});if(i.onChange&&(m=r.a.createElement("input",{type:t.type,className:f,value:c,id:i.id,name:i.full_name,onChange:function(e){return l(e)},style:p})),i.onClick&&(m=r.a.createElement("input",{type:t.type,className:f,value:c,id:i.id,name:i.full_name,onClick:function(e){return o(e)},style:p})),i.onClick&&i.onChange&&(m=r.a.createElement("input",{type:t.type,className:f,value:c,id:i.id,name:i.full_name,onClick:function(e){return o(e)},onChange:function(e){return l(e)},style:p})),!1===t.wrapper)return m;var d=n.wrapper.class;return void 0!==t.wrapper&&void 0!==t.wrapper.class&&(d=t.wrapper.class),r.a.createElement("div",{className:d},m,"file"===t.type&&void 0!==s?r.a.createElement("span",{className:"fileName text-gray-900"},r.a.createElement("br",null),t.existingFile,": ",s):"")}s.propTypes={template:i.a.object.isRequired,form:i.a.object.isRequired,defaults:i.a.object.isRequired};var f=a("Cs6D");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){var t=e.template,a=e.defaults,n=e.onChange,l=e.formData,o=a.select.class;null!==l.class&&(o=l.class);var i=l.choices.map(function(e){return{value:e.value,label:e.label,id:l.id}}),c={container:function(e,t){return m({},e,{maxHeight:"28px",fontSize:"13px",color:"black"})},control:function(){return{maxHeight:"28px",fontSize:"13px",color:"black"}}},s=r.a.createElement(f.a,{styles:c,onChange:n,name:l.full_name,options:i,className:o,defaultValue:l.value}),u=a.wrapper.class;return void 0!==t.wrapper&&void 0!==t.wrapper.class&&(u=t.wrapper.class),r.a.createElement("div",{className:u},s)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e){var t=e.template;return"input"===t.element?r.a.createElement(p,y({},e,{template:t})):"select"===t.element?r.a.createElement(d,y({},e,{template:t})):null}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e){var t=e.template,a=e.value,n=e.form,l=e.defaults,o=e.elementKey,i=e.formData,u="";"row"===t.style&&t.columns.length>0&&(u=t.columns.map(function(u,p){var f=u.content.map(function(u,p){return"label"===u?r.a.createElement(c,{template:t,defaults:l,formData:i,key:p,elementKey:o}):"errors"===u?r.a.createElement(s,{template:t,form:n,defaults:l,key:p}):"widget"===u?r.a.createElement(h,v({},e,{template:t,form:n,defaults:l,elementKey:o,key:p,value:a,formData:i})):null});return r.a.createElement("div",{className:u.class,key:p},f)})),"widget"===t.style&&(u=r.a.createElement(h,v({},e,{template:t,form:n,defaults:l,elementKey:o,value:a,formData:i}))),n.errors.length>0&&(t.row.class=t.row.class+" errors");var p=t.row.class;return null!==i.row_class&&(p=i.row_class),"row"===t.style?r.a.createElement("div",{className:"collectionRow "+p.replace("__name__",o),id:"row_"+n.id.replace("__name__",o)},u):null}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e){var t=e.template,a=e.name,n=e.elementKey,l=e.formData,o=Object.keys(l).map(function(a){var o=l[a],i=function(e,t){var a=e[1];if("url"===e[2]&&"text"===a)return t["input-url"];if("text"===a)return t["input-text"];if("file"===a)return t["input-file"];if("hidden"===a)return t["input-hidden"];if("choice"===a)return t.choice;return console.log(e),{}}(o.block_prefixes,t);return"hidden"===i.type?r.a.createElement(p,_({},e,{template:i,defaults:t.defaults,elementKey:n,key:a,formData:o})):Object.keys(i).length>0?r.a.createElement(b,_({},e,{template:i,key:a,elementKey:n,defaults:t.defaults,formData:o})):""});return r.a.createElement("div",{className:"collectionElement",id:a},o)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e){var t=e.template,a=e.form,n=e.formData;if(!a.block_prefixes.includes("react_collection"))return r.a.createElement("div",{className:"error"},"The form handed to the Collection Render class is not a React Collection.");if(0===a.value.length)return r.a.createElement("div",{className:"error"},r.a.createElement("p",null,"The form handed to the Collection Render does not contain any content."));var l=n.map(function(n,l){return r.a.createElement(g,w({},e,{key:l,elementKey:l,template:t,formData:n,name:a.id+"_"+l}))});return r.a.createElement("div",{className:"collectionList"},l)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=j(t).call(this,e))||"object"!==E(r)&&"function"!=typeof r?D(n):r).template=e.template,a.form=e.form,a.otherProps=O({},e),a.onChange=a.onChange.bind(D(a)),a.onClick=a.onClick.bind(D(a)),a.state={formData:a.buildFormData(a.form)},a.hideLinkFileElement=a.hideLinkFileElement.bind(),a.buildFormData=a.buildFormData.bind(D(a)),a}var a,l,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,n["Component"]),a=t,(l=[{key:"buildFormData",value:function(e){var t=this,a=[];return e.value.map(function(t,n){e.prototype.children.map(function(e,r){var l={row_class:"string"==typeof e.row_class?e.row_class.replace("__name__",n):null,label:!1!==e.label?e.label.replace("__name__",n):null,help:""!==e.help?e.help.replace("__name__",n):null,help_attr:e.help_attr,label_attr:e.label_attr,attr:e.attr,id:e.id.replace("__name__",n),full_name:e.full_name.replace("__name__",n),class:"string"==typeof e.attr.class?e.attr.class.replace("__name__",n):null,name:e.name,value:"string"==typeof e.attr.dataValue?t[e.attr.dataValue]:t[e.name],block_prefixes:e.block_prefixes,choices:void 0!==e.choices?e.choices:null,required:e.required,onChange:void 0!==e.attr.onChange,onClick:void 0!==e.attr.onClick};void 0===a[n]&&(a[n]={}),a[n][l.name]=l})}),a.map(function(e,n){Object.keys(e).map(function(r){var l=e[r];"type"===r&&(a=t.hideLinkFileElement(n,l.value,a))})}),a}},{key:"hideLinkFileElement",value:function(e,t,a){return a[e].urlLink.row_class=a[e].urlLink.row_class.replace(" hidden",""),a[e].urlFile.row_class=a[e].urlFile.row_class.replace(" hidden",""),"Link"===t?a[e].urlFile.row_class=a[e].urlFile.row_class.replace("file"+e,"file"+e+" hidden"):a[e].urlLink.row_class=a[e].urlLink.row_class.replace("link"+e,"link"+e+" hidden"),a[e].type.value=t,a}},{key:"onChange",value:function(e){var t=e.id.replace("_type","").replace("edit_resources_",""),a=e.value,n=this.state.formData;n[t].type.value=a,this.setState({formData:this.hideLinkFileElement(t,a,n)})}},{key:"onClick",value:function(e){console.log(e)}},{key:"render",value:function(){return r.a.createElement(k,O({},this.otherProps,{formData:this.state.formData,form:this.form,template:O({},this.template),onChange:this.onChange,onClick:this.onClick}))}}])&&C(a.prototype,l),o&&C(a,o),t}();if("undefined"!==window.COLLECTIONS_PROPS){var x=window.COLLECTIONS_PROPS;for(var P in x){var S=x[P],F=document.getElementById(S.target);null!==F&&Object(l.render)(r.a.createElement(L,S.params),F)}}}},[["/LQ3","runtime",0,5]]]);