<ul class="multiPartForm"><li class="step active">{{ 'Select File'|trans }}</li><li class="step active">{{ 'Confirm Data'|trans }}</li><li class="step ">{{ 'Dry Run'|trans }}</li><li class="step ">{{ 'Live Run'|trans }}</li></ul>

<h3>{{ 'Step {number}'|trans({'{number}': step}) ~ ' - ' ~ 'Confirm Data'|trans }}</h3>

{{ form_start(form) }}
<table class="smallIntBorder fullWidth relative">
    <tbody>
        {{ form_row(form.syncField) }}
        {{ form_row(form.syncColumn) }}
        <tr><td class="px-2 border-b-0 sm:border-b border-t-0 " colspan="2">&nbsp;</td></tr>
        <tr>
            <td class="px-2 border-b-0 sm:border-b border-t-0 fullWidth" colspan="2">
                <table class="striped fullWidth">
                    <thead>
                    <tr>
                        <th class="text-xxs sm:text-xs p-2 sm:py-3">{{'Field Name'|trans}}</th>
                        <th class="text-xxs sm:text-xs p-2 sm:py-3">{{'Type'|trans}}</th>
                        <th class="text-xxs sm:text-xs p-2 sm:py-3">{{'Column'|trans}}</th>
                        <th class="text-xxs sm:text-xs p-2 sm:py-3">{{'Example'|trans}}</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for child in form.columnCollection.children %}
                        {%  set value = child.vars.value %}
                        <tr>
                            <td>
                                {% if value.flags.unique is defined %}
                                    <span class="far fa-dot-circle fa-fw text-gray-600" style="float: right;" title="{{ 'Must be Unique'|trans }}"></span>
                                {% endif %}
                                {% if value.flags.relational is defined %}
                                    <span class="fas fa-sync fa-fw text-gray-600" style="float: right;" title="{{ 'Relationship: {field} of {table}'|trans(value.fieldType.titleParams) }}"></span>
                                {% endif %}
                                {{ value.name }}
                                {% if value.flags.required is defined %}
                                &nbsp;<strong class="highlight">*</strong>
                                {% endif %}
                            </td>
                            <td>{% include 'modules/system_admin/field_type_component.html.twig' with {type: value.fieldType} %}</td>
                            <td class="columnOrder mediumWidth">
                                <div class="flex-1 relative">
                                    <select id="import_step2_columnCollection_{{ loop.index0 }}_columnOrder" name="import_step2[columnCollection][{{ loop.index0 }}][columnOrder]" class="columnOrder mediumWidth">
                                        <option >{{ 'Please select...'|trans }}</option>
                                        {% for option,prompt in value.columnChoices %}
                                            <option value="{{ option }}"{{ value.name is same as(prompt) ? ' selected' : '' }}{{ option < 0 ? ' class="text-red-500"' : '' }}>{{ prompt|trans }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </td>
                            <td class="shortWidth columnText">
                                <div class="flex-1 relative text-gray-500">
                                    {{ value.example }}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    {% do form.columnCollection.setRendered %}
                    </tbody>
                </table>
            </td>
        </tr>
        <tr><td class=" px-2 border-b-0 sm:border-b border-t-0 " colspan="2">&nbsp;</td></tr>
        <tr>
            <td class=" px-2 border-b-0 sm:border-b border-t-0 smallIntBorder fullWidth" colspan="2">
                <table class="smallIntBorder fullWidth">
                    <tbody>
                        <tr>
                            <td>{{ form_label(form.csvData) }}<br/>{{ form_help(form.csvData) }}</td>
                            <td>{{ form_widget(form.csvData) }}</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        {{ form_row(form.submit) }}
    </tbody>
</table>
{{ form_end(form) }}
